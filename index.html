<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"stardustman.github.io","root":"/","images":"/images","scheme":"Pisces","version":"8.0.2","exturl":false,"sidebar":{"position":"left","Pisces | Gemini":240,"display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}};
  </script>
<meta property="og:type" content="website">
<meta property="og:title" content="stardustman">
<meta property="og:url" content="http://stardustman.github.io/index.html">
<meta property="og:site_name" content="stardustman">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="stardustman">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://stardustman.github.io/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>
<title>stardustman</title>
  



  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="stardustman" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">stardustman</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <section class="post-toc-wrap sidebar-panel">
        </section>
        <!--/noindex-->

        <section class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">stardustman</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">42</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">41</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/stardustman" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;stardustman" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:aoyunyoung@gmail.com" title="E-Mail â†’ mailto:aoyunyoung@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/users/9112817/cloud-young" title="StackOverflow â†’ https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;9112817&#x2F;cloud-young" rel="noopener" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i>StackOverflow</a>
      </span>
  </div>



        </section>
      </div>
        <div class="back-to-top animated">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/stardustman" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://stardustman.github.io/2020/12/28/cs-english-words/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="stardustman">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="stardustman">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/12/28/cs-english-words/" class="post-title-link" itemprop="url">cs-english-words</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-12-28 15:11:28" itemprop="dateCreated datePublished" datetime="2020-12-28T15:11:28+08:00">2020-12-28</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-01-08 11:06:53" itemprop="dateModified" datetime="2021-01-08T11:06:53+08:00">2021-01-08</time>
      </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="Symbols count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Symbols count in article: </span>
      <span>736</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>1 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="a"><a href="#a" class="headerlink" title="a"></a>a</h2><ol>
<li>association<blockquote>
<p>a connection or cooperative link between people or organizations</p>
</blockquote>
</li>
</ol>
<h2 id="b"><a href="#b" class="headerlink" title="b"></a>b</h2><ol>
<li>bypass</li>
</ol>
<h2 id="c"><a href="#c" class="headerlink" title="c"></a>c</h2><ol>
<li>context<br>the circumstances that form the setting for an event, statement, or idea, and in terms of which it can be fully understood and asserted.</li>
</ol>
<h2 id="d"><a href="#d" class="headerlink" title="d"></a>d</h2><ol>
<li>domain<br>an area of territory owned or controlled by a ruler or government.</li>
</ol>
<h2 id="e"><a href="#e" class="headerlink" title="e"></a>e</h2><h2 id="f"><a href="#f" class="headerlink" title="f"></a>f</h2><h2 id="g"><a href="#g" class="headerlink" title="g"></a>g</h2><h2 id="h"><a href="#h" class="headerlink" title="h"></a>h</h2><h2 id="i"><a href="#i" class="headerlink" title="i"></a>i</h2><h2 id="j"><a href="#j" class="headerlink" title="j"></a>j</h2><h2 id="k"><a href="#k" class="headerlink" title="k"></a>k</h2><h2 id="l"><a href="#l" class="headerlink" title="l"></a>l</h2><h2 id="m"><a href="#m" class="headerlink" title="m"></a>m</h2><h2 id="m-1"><a href="#m-1" class="headerlink" title="m"></a>m</h2><h2 id="n"><a href="#n" class="headerlink" title="n"></a>n</h2><h2 id="o"><a href="#o" class="headerlink" title="o"></a>o</h2><ol>
<li>overhead é¢å¤–çš„è´¹ç”¨ã€æ¶ˆè€—</li>
</ol>
<h2 id="p"><a href="#p" class="headerlink" title="p"></a>p</h2><ol>
<li>precedence <blockquote>
<p>the condition of being considered more important than someone or something else; priority in importance, order, or rank. ä¼˜å…ˆçº§</p>
</blockquote>
</li>
<li>parenthesis<blockquote>
<p>æ‹¬å·</p>
</blockquote>
</li>
<li>preemptive<br>serving or intended to preempt or forestall something, especially to prevent attack by disabling the enemy.</li>
<li></li>
</ol>
<h2 id="q"><a href="#q" class="headerlink" title="q"></a>q</h2><h2 id="r"><a href="#r" class="headerlink" title="r"></a>r</h2><ol>
<li>relinquish<br>voluntarily cease to keep or claim; give up. è‡ªæ„¿æ”¾å¼ƒ</li>
</ol>
<h2 id="s"><a href="#s" class="headerlink" title="s"></a>s</h2><ol>
<li><p>sparse ç¨€ç–çš„<br>thinly dispersed or scattered</p>
<h2 id="t"><a href="#t" class="headerlink" title="t"></a>t</h2></li>
<li><p>ternary</p>
<blockquote>
<p>composed of three parts ä¸‰å…ƒ</p>
</blockquote>
</li>
<li><p>trade-off<br>a balance achieved between two desirable but incompatible features; a compromise</p>
<p>å¹³è¡¡ä¸¤ä¸ª<code>äº’ä¸å…¼å®¹çš„ç‰¹æ€§</code>ï¼Œå¦¥å</p>
</li>
</ol>
<h2 id="u"><a href="#u" class="headerlink" title="u"></a>u</h2><h2 id="v"><a href="#v" class="headerlink" title="v"></a>v</h2><h2 id="w"><a href="#w" class="headerlink" title="w"></a>w</h2><h2 id="x"><a href="#x" class="headerlink" title="x"></a>x</h2><h2 id="y"><a href="#y" class="headerlink" title="y"></a>y</h2><h2 id="z"><a href="#z" class="headerlink" title="z"></a>z</h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://stardustman.github.io/2020/12/14/cs-lock/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="stardustman">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="stardustman">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/12/14/cs-lock/" class="post-title-link" itemprop="url">cs-lock</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-12-14 15:20:26" itemprop="dateCreated datePublished" datetime="2020-12-14T15:20:26+08:00">2020-12-14</time>
    </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="Symbols count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Symbols count in article: </span>
      <span>0</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>1 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://stardustman.github.io/2020/12/01/cs-cache/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="stardustman">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="stardustman">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/12/01/cs-cache/" class="post-title-link" itemprop="url">cs-cache</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-12-01 08:40:29" itemprop="dateCreated datePublished" datetime="2020-12-01T08:40:29+08:00">2020-12-01</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-12-13 19:51:57" itemprop="dateModified" datetime="2020-12-13T19:51:57+08:00">2020-12-13</time>
      </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="Symbols count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Symbols count in article: </span>
      <span>2.1k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>2 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>There can be many caches <code>stacked</code> on top of each other.<br>Cache å¯ä»¥ä¸€å±‚ä¸€å±‚ç´¯ç§¯ã€‚</p>
</blockquote>
<ol>
<li>if you miss in one you try in the â€œlower level cacheâ€<br>Lower level, mean higher number.<br>åœ¨ä¸Šå±‚çš„ Cache miss äº†ï¼Œå¯ä»¥åœ¨ä¸‹å±‚çš„ Cache å»æ‰¾ã€‚ä¾æ¬¡ç±»æ¨ã€‚</li>
<li>There can also be <code>separate</code> caches for data and<br>instructions. Or the cache can be <code>â€œunifiedâ€</code>.<br>æ•°æ®å’ŒæŒ‡ä»¤çš„ Cache å¯ä»¥ç‹¬ç«‹ï¼Œä¹Ÿå¯ä»¥æ··åˆã€‚</li>
<li>to wit:</li>
</ol>
<ul>
<li>the <code>L1 data cache (d-cache)</code> is the one nearest processor. It<br>corresponds to the â€œdata memoryâ€ block in our pipeline<br>diagrams</li>
<li>the <code>L1 instruction cache (i-cache)</code> corresponds to the<br>â€œinstruction memoryâ€ block in our pipeline diagrams.</li>
<li>The L2 sits <code>underneath</code> the L1s.</li>
<li>There is often an <code>L3 in modern systems</code>.</li>
</ul>
<h2 id="cache-æŒ‡å¯¼æ€æƒ³"><a href="#cache-æŒ‡å¯¼æ€æƒ³" class="headerlink" title="cache æŒ‡å¯¼æ€æƒ³"></a>cache æŒ‡å¯¼æ€æƒ³</h2><h3 id="å±€éƒ¨æ€§åŸç†"><a href="#å±€éƒ¨æ€§åŸç†" class="headerlink" title="å±€éƒ¨æ€§åŸç†"></a>å±€éƒ¨æ€§åŸç†</h3><h4 id="temporal-locality-æ—¶é—´å±€éƒ¨æ€§"><a href="#temporal-locality-æ—¶é—´å±€éƒ¨æ€§" class="headerlink" title="temporal locality (æ—¶é—´å±€éƒ¨æ€§)"></a>temporal locality (æ—¶é—´å±€éƒ¨æ€§)</h4><p>Taking advantage of temporal locality:</p>
<ol>
<li>bring data into cache whenever its referenced</li>
<li>kick out something that hasnâ€™t been used recently</li>
</ol>
<h4 id="spatial-locality-ç©ºé—´å±€éƒ¨æ€§"><a href="#spatial-locality-ç©ºé—´å±€éƒ¨æ€§" class="headerlink" title="spatial locality (ç©ºé—´å±€éƒ¨æ€§)"></a>spatial locality (ç©ºé—´å±€éƒ¨æ€§)</h4><p>Taking advantage of spatial locality:<br>bring in a block of <code>contiguous data (cacheline)</code>, not just<br>the <code>requested data</code>.</p>
<h2 id="åŸºæœ¬é—®é¢˜"><a href="#åŸºæœ¬é—®é¢˜" class="headerlink" title="åŸºæœ¬é—®é¢˜"></a>åŸºæœ¬é—®é¢˜</h2><h3 id="æ€æ ·æ‰¾åˆ°-cache-ä¸­çš„æ•°æ®ï¼Ÿ"><a href="#æ€æ ·æ‰¾åˆ°-cache-ä¸­çš„æ•°æ®ï¼Ÿ" class="headerlink" title="æ€æ ·æ‰¾åˆ° cache ä¸­çš„æ•°æ®ï¼Ÿ"></a>æ€æ ·æ‰¾åˆ° cache ä¸­çš„æ•°æ®ï¼Ÿ</h3><blockquote>
<p>ä»¥ 32bits çš„å†…å­˜åœ°å€ï¼Œæ¥åˆ†æã€‚<br>(index, offset) äºŒç»´åæ ‡æ¥å®šä½ä¸€ä¸ª byte çš„æ•°æ®ã€‚</p>
</blockquote>
<h4 id="index"><a href="#index" class="headerlink" title="index"></a>index</h4><p> å®šä½ cache lineï¼Œå¯è§†ä¸º<code>æ¨ªåæ ‡</code>ã€‚<br> ç°åœ¨å¯ä»¥é€šè¿‡ cache lines = cache size / cache line size æ¥è®¡ç®—ã€‚<br> index bits = log2(cache lines)</p>
<h4 id="offset"><a href="#offset" class="headerlink" title="offset"></a>offset</h4><p> é€šè¿‡ index å®šä½åˆ° cache line åï¼Œoffset å®šä½åˆ°è¿™ä¸ª cache line çš„å“ªä¸€ä¸ª byteã€‚<br> å¯ä»¥è§†ä¸º<code>çºµåæ ‡</code>ã€‚<br> offset bits = log2(offset)</p>
<h4 id="tag"><a href="#tag" class="headerlink" title="tag"></a>tag</h4><p>32bits å‰©ä¸‹çš„éƒ¨åˆ†ã€‚</p>
<h4 id="cache-line-åº”è¯¥æ˜¯å¤šå¤§ï¼Ÿ"><a href="#cache-line-åº”è¯¥æ˜¯å¤šå¤§ï¼Ÿ" class="headerlink" title="cache line åº”è¯¥æ˜¯å¤šå¤§ï¼Ÿ"></a>cache line åº”è¯¥æ˜¯å¤šå¤§ï¼Ÿ</h4><blockquote>
<p>è¿™å…¶å®æ˜¯åˆ†å—(block)æ€æƒ³ã€‚åœ¨åˆ©ç”¨ç©ºé—´å±€éƒ¨æ€§åŸç†ã€‚</p>
</blockquote>
<h5 id="cache-line-size-è¶Šå¤§"><a href="#cache-line-size-è¶Šå¤§" class="headerlink" title="cache line size è¶Šå¤§"></a>cache line size è¶Šå¤§</h5><ol>
<li>Exploits more spatial locality.</li>
<li>Large cache lines effectively prefetch data that we have not<br>explicitly asked for.<br>æ›´å¥½åœ°åˆ©ç”¨ç©ºé—´å±€éƒ¨æ€§ï¼Œæå‰è·å–å°†è¦è®¿é—®çš„æ•°æ®ã€‚</li>
</ol>
<h5 id="cache-line-size-è¶Šå°"><a href="#cache-line-size-è¶Šå°" class="headerlink" title="cache line size è¶Šå°"></a>cache line size è¶Šå°</h5><ol>
<li>Focuses on temporal locality.</li>
<li>If there is little spatial locality, large cache lines waste<br>space and bandwidth.<br>èšç„¦åœ¨æ—¶é—´å±€éƒ¨æ€§ä¸Šï¼Œå¦‚æœæ²¡æœ‰è¾ƒå¥½çš„ç©ºé—´å±€éƒ¨æ€§ï¼Œæå‰ <code>fetch</code> äº†æ•°æ®ï¼Œé‚£å°±æµªè´¹äº†ç©ºé—´å’Œå¸¦å®½ã€‚</li>
</ol>
<img src="/2020/12/01/cs-cache/cache_organization.svg" class="" title="cache ç»„ç»‡æ–¹å¼">


<h3 id="å®ä¾‹åˆ†æ"><a href="#å®ä¾‹åˆ†æ" class="headerlink" title="å®ä¾‹åˆ†æ"></a>å®ä¾‹åˆ†æ</h3><p>å†…å­˜åœ°å€ 32bitsã€‚</p>
<h4 id="1024-cache-lines-32-Bytes-per-line"><a href="#1024-cache-lines-32-Bytes-per-line" class="headerlink" title="1024 cache lines, 32 Bytes per line."></a>1024 cache lines, 32 Bytes per line.</h4><p>index bits = log2(1024) = 10<br>offset bits = log2(32) = 5<br>tags bits = 32 - index - offset = 17</p>
<h4 id="32KB-cache-64byte-lines"><a href="#32KB-cache-64byte-lines" class="headerlink" title="32KB cache, 64byte lines"></a>32KB cache, 64byte lines</h4><p>index bits = log2(32KB / 64Bytes) = 9<br>offset bits = log2(64) = 6<br>tags bits = 32 - 9 - 6 = 17</p>
<h4 id="set-æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ"><a href="#set-æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ" class="headerlink" title="set æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ"></a>set æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ</h4><p>(set) <code>Associativity</code> means providing <code>more than one</code> place for a cache line to live.<br>One group of lines corresponds to each index</p>
<ol>
<li>it is called a â€œsetâ€</li>
<li><code>Each lin</code>e in a set is called a <code>â€œwayâ€</code></li>
<li>N-Way associativity requires N parallel comparators<br>set = ï¼Ÿ</li>
</ol>
<img src="/2020/12/01/cs-cache/cache-2-ways-cache.svg" class="" title="2-ways-cache">

<h3 id="cache-å“ªä¸€ç§-addressï¼Ÿ"><a href="#cache-å“ªä¸€ç§-addressï¼Ÿ" class="headerlink" title="cache å“ªä¸€ç§ addressï¼Ÿ"></a>cache å“ªä¸€ç§ addressï¼Ÿ</h3><h4 id="virtual-memory-address"><a href="#virtual-memory-address" class="headerlink" title="virtual memory address"></a>virtual memory address</h4><h4 id="physical-memory-address"><a href="#physical-memory-address" class="headerlink" title="physical memory address"></a>physical memory address</h4><img src="/2020/12/01/cs-cache/cache-memory-address-type.svg" class="" title="cache å“ªä¸€ç§ memory address">



<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ol>
<li><a target="_blank" rel="noopener" href="http://cseweb.ucsd.edu/classes/wi12/cse141-a/Slides/09_Cache_intro.pdf">CSE141-Caching-Intro</a></li>
<li><a target="_blank" rel="noopener" href="http://cseweb.ucsd.edu/classes/sp10/cse141/pdf/07/09_CSE141-Caching.pdf">CSE141-Caching</a></li>
<li><a target="_blank" rel="noopener" href="http://cseweb.ucsd.edu/classes/wi12/cse141-a/Slides/10_Caches_detail.pdf">CSE141-Caches-Details</a></li>
<li><a target="_blank" rel="noopener" href="https://www.0xffffff.org/2014/01/06/26-x86-cache/">x86-cache</a></li>
<li><a target="_blank" rel="noopener" href="https://www.kernel.org/doc/html/latest/admin-guide/mm/memory-hotplug.html">memory-hotplug</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/31859105">Cache æ˜¯æ€æ ·ç»„ç»‡å’Œå·¥ä½œçš„ï¼Ÿ</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/sysinternals/downloads/coreinfo">cacheinfo-windows</a></li>
<li><a target="_blank" rel="noopener" href="https://manybutfinite.com/post/intel-cpu-caches/">intel-cpu-cache</a></li>
<li><a target="_blank" rel="noopener" href="http://www.cs.cornell.edu/courses/cs3410/2013sp/lecture/18-caches3-w.pdf">caches3-w.pdf</a></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/CPU_cache">wiki-cpu-cache</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cs.princeton.edu/courses/archive/fall19/cos316/lectures/10-cpu-cache.pdf">cos316-10-cpu-cache.pdf</a></li>
<li><a target="_blank" rel="noopener" href="http://aturing.umcs.maine.edu/~meadow/courses/cos335/Intel-CacheOverview.pdf">cos355-Intel-CacheOverview</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/31875174">ç»†è¯´Cache-L1/L2/L3/TLB</a></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://stardustman.github.io/2020/11/30/acknowledgement-timeout-retry-sequence-number/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="stardustman">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="stardustman">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/11/30/acknowledgement-timeout-retry-sequence-number/" class="post-title-link" itemprop="url">acknowledgement-timeout-retry-sequence-number</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2020-11-30 10:54:57 / Modified: 16:38:17" itemprop="dateCreated datePublished" datetime="2020-11-30T10:54:57+08:00">2020-11-30</time>
    </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="Symbols count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Symbols count in article: </span>
      <span>67</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>1 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="TCP-è¦è§£å†³çš„é—®é¢˜"><a href="#TCP-è¦è§£å†³çš„é—®é¢˜" class="headerlink" title="TCP è¦è§£å†³çš„é—®é¢˜"></a>TCP è¦è§£å†³çš„é—®é¢˜</h3><img src="/2020/11/30/acknowledgement-timeout-retry-sequence-number/notions_tcp.svg" class="" title="notions_tcp">



<h2 id="references"><a href="#references" class="headerlink" title="references"></a>references</h2><ol>
<li><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/tcp-congestion-control/">tcp-congestion-control</a></li>
<li><a target="_blank" rel="noopener" href="https://web.cs.wpi.edu/~rek/Undergrad_Nets/B06/TCP_Congestion_Control.ppt">tcp-congestion-control-ppt</a></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://stardustman.github.io/2020/11/26/data-and-metadata/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="stardustman">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="stardustman">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/11/26/data-and-metadata/" class="post-title-link" itemprop="url">data_and_metadata</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-11-26 16:18:52" itemprop="dateCreated datePublished" datetime="2020-11-26T16:18:52+08:00">2020-11-26</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-11-27 16:59:02" itemprop="dateModified" datetime="2020-11-27T16:59:02+08:00">2020-11-27</time>
      </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="Symbols count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Symbols count in article: </span>
      <span>3.5k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>3 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>å…·ä½“é—®é¢˜å…·ä½“åˆ†æï¼Œç¡®å®éå¸¸é‡è¦ã€‚ç”¨æ­£ç¡®çš„æ€æƒ³æŒ‡å¯¼è¡ŒåŠ¨ï¼Œæ‰å¯äº‹åŠåŠŸå€ã€‚<br>ç°å®ä¸­çš„å®¢è§‚é—®é¢˜æœ‰æ„æ€çš„åœ°æ–¹åœ¨äºï¼šæ— è®ºä½ é€‰æ‹©çœ‹å¾—è§ï¼Œè¿˜æ˜¯é€‰æ‹©çœ‹ä¸è§ï¼Œå®ƒéƒ½åœ¨é‚£é‡Œï¼Œå…³é”®åœ¨äºæœ‰æ²¡æœ‰äººå»è§£å†³ï¼Œè§£å†³çš„äººæœ‰å¤šå¤§çš„å†³å¿ƒã€‚</p>
</blockquote>
<h2 id="data-vs-metadata"><a href="#data-vs-metadata" class="headerlink" title="data vs metadata"></a>data vs metadata</h2><blockquote>
<p>Metadata is â€œdata that provides information about other dataâ€. In other words, it is â€œ<code>data about data</code>â€œ.<br>æ­£å¦‚è¿™ä¸ªä¸–ä¸Šçš„äººï¼Œæ— è®ºæ‰¿è®¤ä¸å¦ï¼Œåˆ†ä¸ºä¸¤ç±»ï¼šç»Ÿæ²»è€…ä¸è¢«ç»Ÿæ²»è€…ã€‚æ•°æ®ä¹Ÿä¸å¯é¿å…çš„è¢«åˆ†ä¸ºä¸¤ç§ï¼šmetadata å’Œ dataã€‚<code>æ•°æ®çš„æ•°æ®</code>å’Œ<code>æ•°æ®</code>ã€‚ä¸¤è€…ç›¸è¾…ç›¸æˆã€‚</p>
</blockquote>
<h3 id="physical"><a href="#physical" class="headerlink" title="physical"></a>physical</h3><p>data  æ•°æ®(è¢«ç»Ÿæ²»è€…)<br>metadata å…ƒæ•°æ®(ç»Ÿæ²»è€…)<br>æ­£å¦‚å¦‚æœè¢«ç»Ÿæ²»è€…éƒ½æ²¡æœ‰äº†ï¼Œé‚£ä¹Ÿè°ˆä¸ä¸Šç»Ÿæ²»è€…ã€‚åœ¨ä¸€ä¸ªä¸ªå®ä½“ç¡®å®å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®ï¼Œé‚£ä¹Ÿè°ˆä¸ä¸Šå…ƒæ•°æ®ã€‚</p>
<h3 id="logical"><a href="#logical" class="headerlink" title="logical"></a>logical</h3><p>æœ‰æ—¶æ²¡æœ‰å®ä½“çš„å­˜åœ¨ä½†æ˜¯ä¹Ÿå¯ä»¥åœ¨<code>é€»è¾‘ä¸Š</code>åˆ’åˆ† data å’Œ Metadata çš„ã€‚æ¯”å¦‚ç½‘ç»œä¸­çš„æµé‡ã€‚ä»…ä»…æ˜¯ç”¨æˆ·çœŸæ­£çš„æ•°æ®å—ï¼Ÿä¸ï¼Œå…¶å®è¿˜æœ‰è·¯ç”±å™¨ä¹‹é—´çš„æµé‡, è¿™éƒ¨åˆ†æµé‡å¯¹äºæ•´ä¸ªç½‘ç»œç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œï¼Œä¸å¯ç¼ºå°‘ã€‚</p>
<p>The control plane is the part of a network that controls <code>how data is forwarded</code>, while the data plane is the actual forwarding process.<br>é‚£ä¹ˆç½‘ç»œæµé‡å°±å¯ä»¥åœ¨é€»è¾‘ä¸Šï¼ˆä¹Ÿå°±æ˜¯è™šæ‹Ÿçš„ï¼‰åˆ’åˆ†ä¸ºï¼š<br>control plane æ§åˆ¶å¹³é¢ï¼ˆè§†ä¸º Metadataï¼‰<br>data/forward plane æ•°æ®å¹³é¢ï¼ˆè§†ä¸º dataï¼‰<br>ä»è¿™ä¸ªè§’åº¦æ¥ç†è§£ï¼Œmetadata æœ‰æ§åˆ¶æ•°æ®çš„æ„æ€ï¼Œæ§åˆ¶çœŸæ­£çš„ç”¨æˆ·æ•°æ®å¦‚ä½•è½¬å‘ã€‚è™½ç„¶å¤§å®¶éƒ½æ˜¯åŒä¸€ç§äº‹ç‰©(éƒ½æ˜¯æ•°æ®åŒ…)ï¼Œä½†æ˜¯åˆä¸æ˜¯å¹³ç­‰çš„äº‹ç‰©ã€‚å’³å’³ï¼Œæ¢æˆäººç±»ï¼Œä¼¼ä¹ä¹Ÿè¯´å¾—è¿‡å»ã€‚</p>
<h3 id="structural-metadata"><a href="#structural-metadata" class="headerlink" title="structural metadata"></a>structural metadata</h3><p>è¿™ç§ç»“æ„æ€§çš„ metadata ç›¸å½“äºä¸€ä»½è¯´æ˜ä¹¦ï¼Œæ¥è¯´æ˜å“ªä¸€ä¸ªä½ç½®çš„æ•°æ®æ˜¯ä»€ä¹ˆæ•°æ®ã€‚</p>
<h4 id="java-class-format"><a href="#java-class-format" class="headerlink" title="java class format"></a>java class format</h4><blockquote>
<p>Java ä»£ç ç»è¿‡ç¼–è¯‘ï¼Œå¯ä»¥çš„åˆ°ä¸€ä¸ª .class æ–‡ä»¶ã€‚</p>
</blockquote>
<h5 id="Hello-java"><a href="#Hello-java" class="headerlink" title="Hello.java"></a>Hello.java</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello, World&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Hello-class"><a href="#Hello-class" class="headerlink" title="Hello.class"></a>Hello.class</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">root@aliyun:java<span class="comment"># xxd Hello.class</span></span><br><span class="line">00000000: cafe babe 0000 0034 001d 0a00 0600 0f09  .......4........</span><br><span class="line">00000010: 0010 0011 0800 120a 0013 0014 0700 1507  ................</span><br><span class="line">00000020: 0016 0100 063c 696e 6974 3e01 0003 2829  .....&lt;init&gt;...()</span><br><span class="line">00000030: 5601 0004 436f 6465 0100 0f4c 696e 654e  V...Code...LineN</span><br><span class="line">00000040: 756d 6265 7254 6162 6c65 0100 046d 6169  umberTable...mai</span><br><span class="line">00000050: 6e01 0016 285b 4c6a 6176 612f 6c61 6e67  n...([Ljava/lang</span><br><span class="line">00000060: 2f53 7472 696e 673b 2956 0100 0a53 6f75  /String;)V...Sou</span><br><span class="line">00000070: 7263 6546 696c 6501 000a 4865 6c6c 6f2e  rceFile...Hello.</span><br><span class="line">00000080: 6a61 7661 0c00 0700 0807 0017 0c00 1800  java............</span><br><span class="line">00000090: 1901 000c 4865 6c6c 6f2c 2057 6f72 6c64  ....Hello, World</span><br><span class="line">000000a0: 0700 1a0c 001b 001c 0100 0548 656c 6c6f  ...........Hello</span><br><span class="line">000000b0: 0100 106a 6176 612f 6c61 6e67 2f4f 626a  ...java/lang/Obj</span><br><span class="line">000000c0: 6563 7401 0010 6a61 7661 2f6c 616e 672f  ect...java/lang/</span><br><span class="line">000000d0: 5379 7374 656d 0100 036f 7574 0100 154c  System...out...L</span><br><span class="line">000000e0: 6a61 7661 2f69 6f2f 5072 696e 7453 7472  java/io/PrintStr</span><br><span class="line">000000f0: 6561 6d3b 0100 136a 6176 612f 696f 2f50  eam;...java/io/P</span><br><span class="line">00000100: 7269 6e74 5374 7265 616d 0100 0770 7269  rintStream...pri</span><br><span class="line">00000110: 6e74 6c6e 0100 1528 4c6a 6176 612f 6c61  ntln...(Ljava/la</span><br><span class="line">00000120: 6e67 2f53 7472 696e 673b 2956 0021 0005  ng/String;)V.!..</span><br><span class="line">00000130: 0006 0000 0000 0002 0001 0007 0008 0001  ................</span><br><span class="line">00000140: 0009 0000 001d 0001 0001 0000 0005 2ab7  ..............*.</span><br><span class="line">00000150: 0001 b100 0000 0100 0a00 0000 0600 0100  ................</span><br><span class="line">00000160: 0000 0100 0900 0b00 0c00 0100 0900 0000  ................</span><br><span class="line">00000170: 2500 0200 0100 0000 09b2 0002 1203 b600  %...............</span><br><span class="line">00000180: 04b1 0000 0001 000a 0000 000a 0002 0000  ................</span><br><span class="line">00000190: 0003 0008 0004 0001 000d 0000 0002 000e  ................</span><br></pre></td></tr></table></figure>

<h4 id="Hello-class-æ€æ ·è§£æçš„ï¼Ÿ"><a href="#Hello-class-æ€æ ·è§£æçš„ï¼Ÿ" class="headerlink" title="Hello.class æ€æ ·è§£æçš„ï¼Ÿ"></a>Hello.class æ€æ ·è§£æçš„ï¼Ÿ</h4><p>å¦‚æœä¸¢ç»™æˆ‘ä¸€ä¸ª .class æ–‡ä»¶ï¼Œå…¶ä»–å•¥ä¹Ÿæ²¡æœ‰ã€‚æˆ‘ä¹Ÿçœ‹ä¸æ‡‚ã€‚ä½†æ˜¯ç”±äº <code>class file format</code> çš„å­˜åœ¨ï¼Œåªè¦è¶³å¤Ÿè€å¿ƒï¼Œè‡ªå·±ä¹Ÿå¯ä»¥è§£æå‡º .class æ˜¯æ€æ ·çš„ã€‚è¿™é‡Œçš„ <a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html">class format</a> å°±æ˜¯ Metadataã€‚æ²¡æœ‰è¿™ä¸ªæ ¼å¼è¯´æ˜ï¼Œè°ä¹Ÿå¼„ä¸æ˜ç™½è¿™ä¸€å †äºŒè¿›åˆ¶çš„ 0 å’Œ 1 æ˜¯å•¥æ„æ€ã€‚</p>
<h4 id="IP-header"><a href="#IP-header" class="headerlink" title="IP header"></a>IP header</h4><p>IP è¿™ä¸ªåè®®æ˜¯ç”¨æ¥å°†ä¸åŒå±€åŸŸç½‘ç»„æˆäº’è”ç½‘çš„ã€‚æ—¢ç„¶é€šä¿¡æ˜¯åŒå‘çš„ï¼Œè¦çŸ¥é“å‘é€è€…çš„ IPï¼Œæ¥æ”¶è€…çš„ IPï¼ŒIP åŒ…çš„æ€»å¤§å°ï¼ŒIP Header çš„å¤§å°ï¼Œè¿™ä¸ª IP åŒ…èƒ½è·¨è¶Šå¤šå°‘è·¯ç”±å™¨(<a target="_blank" rel="noopener" href="https://www.cloudflare.com/learning/cdn/glossary/time-to-live-ttl/">TTL</a>)ï¼Œä½¿ç”¨çš„ IP åè®®ç‰ˆæœ¬ï¼Œæ˜¯å“ªä¸€ä¸ªä¸Šå±‚åè®®åœ¨ä½¿ç”¨ IP åè®®ï¼ŒIP åŒ…æ˜¯å¦åˆ‡åˆ†äº†ï¼Œåˆ‡åˆ†åæ€æ ·ç»„è£…ï¼Œæ ¡éªŒæ•´ä¸ª IP åŒ…åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯å¦å‘ç”Ÿäº†é”™è¯¯ç­‰ä¿¡æ¯ã€‚è®°åœ¨å“ªé‡Œå‘¢ï¼ŸIP headerï¼Œè¿™ä¸ª IP header å°±æ˜¯ Metadataã€‚è¿™äº›ä¹Ÿå¯ç†è§£æˆæ§åˆ¶æ•°æ®ã€‚</p>
<h4 id="TCP-header"><a href="#TCP-header" class="headerlink" title="TCP header"></a>TCP header</h4><p>TCP ä¼ è¾“å±‚çš„åè®®ã€‚ç”¨æ¥ä¿è¯æ•°æ®ä¸ä¸¢å¤±ä¸”æŒ‰ç…§å‘é€é¡ºåºåˆ°è¾¾ç›®çš„åœ°ã€‚<br>æ€æ ·ä¿è¯é¡ºåºå‘¢ï¼Ÿå¯¹æ¯ä¸€ä¸ªå­—èŠ‚ç¼–å·(sequence number)ã€‚<br>æ€æ ·ä¿è¯æ•°æ®ä¸ä¸¢å¤±å‘¢ï¼Ÿç¡®è®¤æœºåˆ¶(ack)ã€‚<br>æ€æ ·æ‰¾åˆ°ç›®çš„åœ°å‘¢ï¼Ÿä¸€ä¸ªåœ¨ç½‘ç»œä¸Šçš„è®¡ç®—æœºï¼Œå¯èƒ½åŒæ—¶è¿è¡Œè®¸å¤šç¨‹åºï¼Œå¦‚æ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨çº¿å¬æ­Œï¼Œåœ¨çº¿ç¼–è¾‘æ–‡æ¡£ç­‰ç­‰ã€‚ç”¨ç«¯å£å·(port number)ã€‚<br>åŒæ—¶ï¼Œæ€æ ·çŸ¥é“æ¥æ”¶æ–¹ç°åœ¨æ¥æ”¶ç½‘ç»œåŒ…çš„å¤§å°å‘¢ï¼Ÿç”¨çª—å£(window size)ã€‚<br>æ€æ ·èƒ½çŸ¥é“ç½‘ç»œåŒ…ä¼ è¾“è¿‡ç¨‹æ˜¯å¦å‘ç”Ÿäº†é”™è¯¯ï¼Ÿç”¨æ ¡éªŒå’Œ(checksum)ã€‚<br>è¿™äº›ä¿¡æ¯éƒ½å­˜åœ¨å“ªé‡Œäº†å‘¢ï¼ŸTCP header é‡Œã€‚è¿™å°±æ˜¯ Metadataã€‚ä¹Ÿå¯ç†è§£æˆæ§åˆ¶æ•°æ®ã€‚</p>
<h4 id="InnoDB-row-format"><a href="#InnoDB-row-format" class="headerlink" title="InnoDB row format"></a>InnoDB row format</h4><p>InnoDB å­˜å‚¨è¡¨æ˜¯æŒ‰è¡Œå­˜å‚¨çš„ã€‚è¿™åªæ˜¯é€»è¾‘ä¸Šçš„è¯´æ³•ã€‚çœŸæ­£çš„æ•°æ®å­˜å‚¨æ˜¯è¦è½åˆ°ç£ç›˜ä¸Šçš„ã€‚å¯¹äºæ¯ä¸€è¡Œï¼Œå­—æ®µæ˜¯ä¸æ˜¯ç©ºçš„ï¼Œå®šé•¿è¿˜æ˜¯å˜é•¿ï¼Œå˜é•¿å­—æ®µçš„é•¿åº¦ï¼Œè¯¥åˆ—çš„ä¸»é”®ï¼Œè¿™è¡Œæ•°æ®æ˜¯å“ªä¸€ä¸ªäº‹åŠ¡æ“ä½œçš„ï¼Œè¿™äº›è®°å½•çš„ç›¸å…³æ—¥å¿—éƒ½è®°åœ¨å“ªé‡Œäº†å‘¢ï¼Ÿ<br>ä¸é”™ã€‚è¿™å…¶å®ä¹Ÿæ˜¯æœ‰ç›¸åº”çš„è¯´æ˜çš„ã€‚è€Œä¸”ï¼ŒInnoDB æä¾›äº†ä¸åŒçš„ <a target="_blank" rel="noopener" href="https://mariadb.com/kb/en/innodb-row-formats-overview/">row format</a>ã€‚å¯¹ç”¨æˆ·çš„æ¯ä¸€è¡Œæ¥è¯´ï¼Œè¯¥è¡Œçš„ row format å°±æ˜¯ Metadataã€‚å½“ç„¶è¿™å°±æ˜¯æè¿°ï¼ˆæˆ–è€…è¯´æ˜¯æ§åˆ¶ï¼‰è¯¥è¡Œç”¨æˆ·æ•°æ®çš„ã€‚</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Metadata">Metadata</a></li>
<li><a target="_blank" rel="noopener" href="https://dataedo.com/kb/data-glossary/what-is-metadata">what-is-metadata</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cloudflare.com/learning/network-layer/what-is-the-control-plane/">what-is-the-control-plane</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html">class file format</a></li>
<li><a target="_blank" rel="noopener" href="https://mariadb.com/kb/en/innodb-row-formats-overview/">InnoDB-row-format</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cloudflare.com/learning/cdn/glossary/time-to-live-ttl/">TTL</a></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://stardustman.github.io/2020/11/24/notions-of-computer/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="stardustman">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="stardustman">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/11/24/notions-of-computer/" class="post-title-link" itemprop="url">notions_of_computer</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-11-24 13:25:13" itemprop="dateCreated datePublished" datetime="2020-11-24T13:25:13+08:00">2020-11-24</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-12-01 10:19:11" itemprop="dateModified" datetime="2020-12-01T10:19:11+08:00">2020-12-01</time>
      </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="Symbols count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Symbols count in article: </span>
      <span>3.1k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>3 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="æŒ‡å¯¼æ€æƒ³"><a href="#æŒ‡å¯¼æ€æƒ³" class="headerlink" title="æŒ‡å¯¼æ€æƒ³"></a>æŒ‡å¯¼æ€æƒ³</h2><p>   è®¡ç®—æœºæ˜¯äººå‘æ˜çš„ã€‚ç”±è®¡ç®—æœºç»„æˆçš„ä¸–ç•Œï¼Œå…¶è®¾è®¡æ€æƒ³å¾ˆæ˜æ˜¾è¦å€Ÿé‰´ç°å®ä¸­çš„ä¸œè¥¿ã€‚æ­£å¦‚ä¸€ä½ä¼Ÿäººçš„è‘—ä½œå¼€ç¯‡æå‡º <code>â€œè°æ˜¯æˆ‘ä»¬çš„æ•Œäººï¼Ÿè°æ˜¯æˆ‘ä»¬çš„æœ‹å‹ï¼Ÿè¿™ä¸ªé—®é¢˜æ˜¯é©å‘½çš„é¦–è¦é—®é¢˜ã€‚ä¸­å›½è¿‡å»ä¸€åˆ‡é©å‘½æ–—äº‰æˆæ•ˆç”šå°‘ï¼Œå…¶åŸºæœ¬åŸå› å°±æ˜¯å› ä¸ºä¸èƒ½å›¢ç»“çœŸæ­£çš„æœ‹å‹ï¼Œä»¥æ”»å‡»çœŸæ­£çš„æ•Œäººã€‚â€</code>é‚£ä¹ˆåº”å¯¹è®¡ç®—æœºï¼Œä»€ä¹ˆæ‰æ˜¯è®¡ç®—æœºç»„ç»‡èƒŒåçš„æŒ‡å¯¼æ€æƒ³å‘¢ï¼Ÿä¸ªäººè®¤ä¸ºæœ‰ä¸‰ä¸ªï¼š1. hierarchy(å±‚çº§)ã€2ï¼šgroup(åˆ†ç»„)ã€3ï¼šorder(æœ‰åº)</p>
<h3 id="hierarchy-å±‚çº§"><a href="#hierarchy-å±‚çº§" class="headerlink" title="hierarchy(å±‚çº§)"></a>hierarchy(å±‚çº§)</h3><p>  <em>hierarchy</em> åœ¨è¿™é‡Œä¹Ÿå¯ä»¥ç†è§£æˆç­‰çº§ã€‚å±‚çº§ç»“æ„æœ€é‡è¦çš„ä¸€ç‚¹å°±æ˜¯æœ€é¡¶å±‚åœ¨å“ªï¼Ÿç”¨ <code>tree</code> ç†è§£å°±æ˜¯ï¼Œ<code>root</code> åœ¨å“ªï¼Ÿè¿™ä¸ªä¿¡æ¯æ•´ä¸ªå±‚çº§éƒ½è¦çŸ¥é“ã€‚å“ˆå“ˆï¼Œæ˜¯ä¸æ˜¯æŒºåƒçš‡å¸ã€‚ğŸ˜„</p>
<h4 id="é¢å¯¹æ•°é‡åºå¤§çš„ç›¸åŒäº‹ç‰©ï¼Œæ€æ ·ç®¡ç†å‘¢ï¼Ÿç”¨ä»€ä¹ˆç»„ç»‡æ–¹å¼å‘¢ï¼Ÿ"><a href="#é¢å¯¹æ•°é‡åºå¤§çš„ç›¸åŒäº‹ç‰©ï¼Œæ€æ ·ç®¡ç†å‘¢ï¼Ÿç”¨ä»€ä¹ˆç»„ç»‡æ–¹å¼å‘¢ï¼Ÿ" class="headerlink" title="é¢å¯¹æ•°é‡åºå¤§çš„ç›¸åŒäº‹ç‰©ï¼Œæ€æ ·ç®¡ç†å‘¢ï¼Ÿç”¨ä»€ä¹ˆç»„ç»‡æ–¹å¼å‘¢ï¼Ÿ"></a>é¢å¯¹æ•°é‡åºå¤§çš„ç›¸åŒäº‹ç‰©ï¼Œæ€æ ·ç®¡ç†å‘¢ï¼Ÿç”¨ä»€ä¹ˆç»„ç»‡æ–¹å¼å‘¢ï¼Ÿ</h4><p>   è¿™é‡Œçš„æ•°é‡åºå¤§è¦æ˜¯æˆåƒä¸Šä¸‡çš„ã€‚æ¯”å¦‚ä¸­å›½æœ‰åå‡ äº¿äººå£ã€ä¸­å›½æœ‰ 960 ä¸‡å¹³æ–¹å…¬é‡Œçš„åœŸåœ°ï¼Œç­‰ç­‰ã€‚é¦–å…ˆç®€è¿°ä¸€ä¸‹å†å²ä¸Šçš„ç»éªŒï¼Œæ¯”å¦‚è¥¿å‘¨ï¼Œé‡‡ç”¨åˆ†å°åˆ¶ã€‚å¤©å­ã€è¯¸ä¾¯ã€å¿ã€å£«ã€å¹³æ°‘ç­‰æ‰€æœ‰äººç»„æˆä¸€ä¸ªé‡‘å­—å¡”å½¢çŠ¶ã€‚æ¯ä¸€ä¸ªå±‚çº§çš„äºº<code>æƒåŠ›å¤§å°ä¸åŒ</code>ã€<code>æ‰¿æ‹…çš„è´£ä»»å’Œä¹‰åŠ¡ä¹Ÿä¸åŒ</code>ã€‚å¯¹äºåœŸåœ°åˆ™æ˜¯å°é‚¦å»ºå›½ã€‚åˆ†å°åˆ¶å¯ä»¥å¯¹äººå£ã€åœŸåœ°ç­‰è¿›è¡Œæœ‰æ•ˆçš„ç»Ÿæ²»ã€‚æ›´ç›´è§‚çš„ç†è§£å°±æ˜¯å½¢æˆç¨³å®šçš„é˜¶çº§ã€‚åˆ°è¿™æ˜¯ä¸æ˜¯ç«‹åˆ»å°±èƒ½æƒ³åˆ°ç”±äºæ¯ç§å­˜å‚¨çš„<code>ä»·æ ¼</code>ã€<code>é€Ÿåº¦</code>ã€<code>å®¹é‡</code>ä¸åŒï¼Œåº”ç”¨åœ¨å“ªä¸ªåœ°æ–¹ä¹Ÿä¸åŒã€‚ä¹Ÿæ˜¯ç»„ç»‡æˆä¸€ä¸ªå±‚çº§ç»“æ„æ¥æ„æˆæ•´ä¸ªè®¡ç®—æœºçš„å­˜å‚¨ç³»ç»Ÿã€‚</p>
<p>   ä»æ•°å­¦çš„è§’åº¦åˆ†æå°±æ˜¯ï¼šç”¨<code>å¯¹æ•°çš„æ–¹å¼</code>æå®šæ•°é‡åºå¤§çš„äº‹ç‰©çš„ç®¡ç†ã€‚ä¸ç®¡æ•°é‡å¤šåºå¤§ï¼Œç”¨å¯¹æ•°æä¸€ä¸‹ï¼Œæ•°é‡ç«‹åˆ»å°±é™ä¸‹æ¥ã€‚æ¯”å¦‚ log<sub>2</sub>4294967296 = 32ã€‚å¯¹æ•°çš„å‘æ˜ã€è§£æå‡ ä½•çš„åˆ›ç«‹å’Œå¾®ç§¯åˆ†çš„å»ºç«‹æ˜¯17ä¸–çºªæ•°å­¦çš„ä¸‰å¤§æˆå°±ã€‚</p>
<h5 id="åŸŸåç»„ç»‡æ–¹å¼"><a href="#åŸŸåç»„ç»‡æ–¹å¼" class="headerlink" title="åŸŸåç»„ç»‡æ–¹å¼"></a>åŸŸåç»„ç»‡æ–¹å¼</h5><blockquote>
<p>In 2017, 330.6 million domain names had been registered.<br>2017 å¹´å·²ç»æœ‰ 33 å¤šäº¿çš„æ³¨å†ŒåŸŸåäº†ã€‚</p>
</blockquote>
<p>å¦‚æœè®©ä½ ç»„ç»‡æ•°é‡å¦‚æ­¤åºå¤§çš„åŸŸåï¼Œä½ è¯¥æ€æ ·ç»„ç»‡å‘¢ï¼Ÿæ²¡é”™ï¼Œä¹Ÿæ˜¯ç»„ç»‡æˆå±‚çº§ç»“æ„ï¼Œæ¥ç®¡ç†æ•°é‡å¦‚æ­¤åºå¤§çš„åŸŸåã€‚ä¸€å¼€å§‹çš„è§£å†³æ–¹æ³•æ˜¯ç›´æ¥æŠŠåŸŸåä¿¡æ¯æ”¾åœ¨ /etc/hosts æ–‡ä»¶ï¼Œéšç€åŸŸåå¢å¤šï¼Œå•ç‹¬çš„ä¸€ä¸ªæ–‡ä»¶æ²¡æ³•æ»¡è¶³è¦æ±‚ï¼Œæ•°é‡å¤ªå¤šäº†å˜›ï¼Œæ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸”ä¸è®ºèƒ½ä¸èƒ½å…¨éƒ¨å­˜å‚¨ï¼ŒæŸ¥æ‰¾éƒ½æ˜¯ä¸€ä¸ªå¤§é—®é¢˜ã€‚</p>
<img src="/2020/11/24/notions-of-computer/dns-root-server.png" class="" title="domain-name-hierarchy">

<h5 id="IP-åˆ†é…ç®¡ç†æ–¹å¼"><a href="#IP-åˆ†é…ç®¡ç†æ–¹å¼" class="headerlink" title="IP åˆ†é…ç®¡ç†æ–¹å¼"></a>IP åˆ†é…ç®¡ç†æ–¹å¼</h5><p>IP Addresses are <code>unique identifiers</code> used to determine who is who on the Internet.<br>IP åœ°å€æ˜¯ä¸€ä¸ª 32bit çš„æ— ç¬¦å·æ•´æ•°ã€‚èŒƒå›´æ˜¯ [0,2^32-1], ä¸€å…±æœ‰ 4294967296 ä¸ªæ•´æ•°ã€‚å°†è¿‘ 43 äº¿ä¸ª ip åœ°å€(è¿™é‡Œä¸è€ƒè™‘å…¬ç½‘ã€ç§ç½‘)è¯¥æ€æ ·åˆ†é…ä½¿ç”¨å‘¢ï¼Ÿç”± <a target="_blank" rel="noopener" href="https://www.iana.org/numbers">Internet Assigned Numbers Authority (IANA)</a> è´Ÿè´£åè°ƒç®¡ç†æ‰€æœ‰ IPï¼ŒåŒæ—¶è´Ÿè´£åˆ†é…è‡ªæ²»ç³»ç»Ÿå·(Autonomous System number)ã€‚</p>
<blockquote>
<p>Both IPv4 and IPv6 addresses are generally assigned in a <code>hierarchical manner</code>. Users are assigned IP addresses by <code>Internet service providers (ISPs)</code>. ISPs obtain allocations of IP addresses from a <code>local Internet registry (LIR</code>) or <code>National Internet Registry (NIR)</code>, or from their appropriate <code>Regional Internet Registry (RIR)</code>:</p>
</blockquote>
<p>æ•°é‡åºå¤§çš„ IP åœ°å€æ€æ ·åˆ†é…ç®¡ç†å‘¢ï¼Ÿç»„æˆå±‚çº§ç»“æ„ã€‚é€šè¿‡ä¸€çº§ä¸€çº§<code>å§”æ‰˜</code>ï¼Œç®¡ç†æ•°é‡åºå¤§çš„ IP åœ°å€ã€‚</p>
<img src="/2020/11/24/notions-of-computer/IP_AS_Number.svg" class="" title="IP åœ°å€åˆ†é…ç®¡ç†">


<h5 id="æ–‡ä»¶ç»„ç»‡æ–¹å¼"><a href="#æ–‡ä»¶ç»„ç»‡æ–¹å¼" class="headerlink" title="æ–‡ä»¶ç»„ç»‡æ–¹å¼"></a>æ–‡ä»¶ç»„ç»‡æ–¹å¼</h5><img src="/2020/11/24/notions-of-computer/file_system_hierarchy.png" class="" title="file system hierarchy">

<h4 id="ä¸åŒæ€§è´¨çš„äº‹ç‰©ï¼Œæ€æ ·ç»„ç»‡å‘¢ï¼Ÿ"><a href="#ä¸åŒæ€§è´¨çš„äº‹ç‰©ï¼Œæ€æ ·ç»„ç»‡å‘¢ï¼Ÿ" class="headerlink" title="ä¸åŒæ€§è´¨çš„äº‹ç‰©ï¼Œæ€æ ·ç»„ç»‡å‘¢ï¼Ÿ"></a>ä¸åŒæ€§è´¨çš„äº‹ç‰©ï¼Œæ€æ ·ç»„ç»‡å‘¢ï¼Ÿ</h4><h5 id="memory-hierarchy"><a href="#memory-hierarchy" class="headerlink" title="memory hierarchy"></a>memory hierarchy</h5>   <img src="/2020/11/24/notions-of-computer/ComputerMemoryHierarchy.svg" class="" title="ComputerMemoryHierarchy">

<h5 id="Typical-memory-hierarchy"><a href="#Typical-memory-hierarchy" class="headerlink" title="Typical memory hierarchy"></a>Typical memory hierarchy</h5>   <img src="/2020/11/24/notions-of-computer/typical-memory-hierarchy.png" class="" title="typical-memory-hierarchy">

<h5 id="OSI-å‚è€ƒæ¨¡å‹"><a href="#OSI-å‚è€ƒæ¨¡å‹" class="headerlink" title="OSI å‚è€ƒæ¨¡å‹"></a>OSI å‚è€ƒæ¨¡å‹</h5><p>  ç½‘ç»œæ¯ä¸€å±‚ï¼ŒåŠŸèƒ½ä¸åŒã€‚</p>
  <img src="/2020/11/24/notions-of-computer/network-layer.svg" class="" title="OSI VS TCP&#x2F;IP">



<h3 id="group-åˆ†ç»„"><a href="#group-åˆ†ç»„" class="headerlink" title="group(åˆ†ç»„)"></a>group(åˆ†ç»„)</h3><p>  ä½“é‡åºå¤§çš„ä¸œè¥¿çš„åŸºå±‚ç»„ç»‡ã€‚</p>
<ol>
<li><p>å¯è§†ä¸ºå±‚çº§ç»“æ„çš„æœ€åº•å±‚ã€‚blockã€pageã€packetã€fragmentã€set</p>
</li>
<li><p>ä¹Ÿå¯ä»¥è§†ä¸ºä¸åŒçš„æ¨¡å—ã€‚moduleã€segmentã€section</p>
</li>
<li><p>ä¹Ÿå¯ä»¥ç†è§£æˆåˆ†ç±»ã€‚sort</p>
<h4 id="åŸŸå"><a href="#åŸŸå" class="headerlink" title="åŸŸå"></a>åŸŸå</h4><p>å¯¹åŸŸåæ¥è¯´ä¸€ä¸ªåˆ†ç»„å¯ä»¥ç†è§£æˆä¸€ä¸ª<code>ä¸€çº§åŸŸå</code>ä¸‹çš„æ‰€æœ‰åŸŸåã€‚å¦‚ <code>org</code>ä¸‹çš„åŸŸåã€‚å½“ç„¶ä¹Ÿå¯ä»¥ç†è§£æˆä¸€ä¸ª <code>äºŒçº§åŸŸå</code>ä¸‹çš„æ‰€æœ‰åŸŸåã€‚å¦‚ <code>google.com</code> ä¸‹ Google å®¶æ‰€æœ‰çš„åŸŸåã€‚ä¾æ¬¡ç±»æ¨ã€‚å¯ä»¥çœ‹å‡ºï¼ŒåŒç§äº‹ç‰©è¿›è¡Œå±‚çº§ç»„ç»‡ï¼Œæœ¬èº«å°±æ˜¯åœ¨è¿›è¡Œåˆ†ç»„ã€‚</p>
<h4 id="IP-åœ°å€"><a href="#IP-åœ°å€" class="headerlink" title="IP åœ°å€"></a>IP åœ°å€</h4><blockquote>
<p>An autonomous system (AS) is a very large network or group of networks with a single routing policy. Each AS is assigned a unique ASN, which is a number that identifies the AS.</p>
</blockquote>
<p>æ²¡é”™ã€‚IP åœ°å€ä¹Ÿæ˜¯é€šè¿‡ä¸€ä¸ªä¸€ä¸ªçš„å®ä½“æ¥ç®¡ç†ä½¿ç”¨çš„ï¼Œä¸€ä¸ªå®ä½“å°±æ˜¯ä¸€ä¸ªè‡ªæ²»ç³»ç»Ÿã€‚(autonomous system)ã€‚æ¯”å¦‚ä¸­å›½ç§»åŠ¨è¿™ä¸ªè¿è¥å•†çš„ AS Number æ˜¯ <a target="_blank" rel="noopener" href="https://ipinfo.io/AS56041">56041</a>ï¼Œç®¡ç†ä¸€ç³»åˆ— IP åœ°å€ã€‚å†æ¯”å¦‚ Apple çš„ AS Number æ˜¯ <a target="_blank" rel="noopener" href="https://ipinfo.io/AS714">714</a>ã€‚</p>
<h4 id="Internet-Protocol"><a href="#Internet-Protocol" class="headerlink" title="Internet Protocol"></a>Internet Protocol</h4><blockquote>
<p> Data traversing the Internet is <code>divided into</code> smaller pieces, called <code>packets</code>. IP information is attached to <code>each packet</code>, and this information helps <code>routers</code> to send packets to the right place.</p>
</blockquote>
<p>é€šè¿‡ç½‘ç»œå‘é€å¤§é‡çš„ä¿¡æ¯ï¼Œä¹Ÿæ˜¯æ‹†åˆ†æˆä¸€ä¸ªä¸ª <code>packet</code>ã€‚è¿™é‡Œä¹Ÿå¯ä»¥ç†è§£æˆåˆ†ç»„ã€‚</p>
<h4 id="æ–‡ä»¶ç³»ç»Ÿ"><a href="#æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="æ–‡ä»¶ç³»ç»Ÿ"></a>æ–‡ä»¶ç³»ç»Ÿ</h4><p>æ–‡ä»¶ç³»ç»Ÿç®¡ç†ç£ç›˜ç©ºé—´ã€‚ç£ç›˜ç©ºé—´åˆ’åˆ†ä¸ºä¸€ä¸ªä¸ªç›¸åŒå¤§å°çš„ Blockã€‚ä¸€ä¸ªæ‰‡åŒºæ˜¯ 512Bytesï¼Œè¿™å¯ä»¥è§†ä¸ºä¸€ä¸ªåˆ†ç»„ã€‚</p>
<h4 id="ç½‘ç»œæµé‡"><a href="#ç½‘ç»œæµé‡" class="headerlink" title="ç½‘ç»œæµé‡"></a>ç½‘ç»œæµé‡</h4><blockquote>
<p>Ports are virtual places within an operating system where network connections start and end. They help computers sort the <code>network traffic</code> they receive.</p>
</blockquote>
<p>è®¡ç®—æœºä»ç½‘ç»œä¸Šæ¥æ”¶çš„ packet æ€æ ·åˆ¤å®šå“ªä¸€ä¸ªæ˜¯æ¥æ”¶è€…å‘¢ï¼Ÿå¯¹ç½‘ç»œæµé‡åˆ†ç±»å°±è¡Œã€‚æ€æ ·åˆ†ç±»å‘¢ï¼Ÿç”¨ç«¯å£å·ï¼Œä¸åŒçš„æ¥æ”¶è€…ï¼Œæ¥æ”¶ä¸åŒç«¯å£çš„æµé‡ã€‚</p>
<h4 id="subnet"><a href="#subnet" class="headerlink" title="subnet"></a>subnet</h4><blockquote>
<p>Think of the Internet as a network of networks: computers are connected to each other within networks, and these networks connect to other networks. This enables these computers to connect with other computers both near and far.<br>A network is a group of two or more connected computing devices.Â </p>
</blockquote>
<p>åˆ’åˆ†å­ç½‘ï¼Œä¹Ÿæ˜¯åœ¨åˆ†ç»„ã€‚</p>
</li>
</ol>
<h3 id="order-é¡ºåº"><a href="#order-é¡ºåº" class="headerlink" title="order(é¡ºåº)"></a>order(é¡ºåº)</h3><p>  é¡ºåºã€åˆ†æ”¯ã€å¾ªç¯ã€‚é¡ºåºå°±æ˜¯ç¨‹åºä¸‰å¤§ç»“æ„ä¹‹ä¸€ã€‚æ²¡æœ‰ç§©åºçš„ä¸–ç•Œæ˜¯æ··ä¹±çš„ï¼Œå•¥äº‹ä¹Ÿåšä¸æˆã€‚<br>  TCP åè®®ç›®çš„ä¹‹ä¸€å°±æ˜¯è¦ä¿è¯è®¡ç®—æœºæ¥æ”¶åˆ°çš„ç½‘ç»œåŒ…çš„é¡ºåºã€‚æ€æ ·ä¿è¯é¡ºåºå‘¢ï¼Ÿéå¸¸ç®€å•ï¼Œä¸ºæ¯ä¸€ä¸ª Byte ç¼–å·å°±è¡Œã€‚</p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ol>
<li><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/memory-hierarchy-design-and-its-characteristics/">memory-hierarchy</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cloudflare.com/learning/dns/glossary/what-is-a-domain-name/">what-is-a-domain-name</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cloudflare.com/learning/dns/glossary/dns-root-server/">dns-root-server</a></li>
<li><a target="_blank" rel="noopener" href="https://www.iana.org/numbers">ip number resources</a></li>
<li><a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc7020">The Internet Numbers Registry System</a></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard">Filesystem_Hierarchy_Standard</a></li>
<li><a target="_blank" rel="noopener" href="https://www.pathname.com/fhs/2.2/">Filesystem Hierarchy Standard List</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cloudflare.com/learning/network-layer/what-is-the-network-layer/">network-layer</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cloudflare.com/learning/network-layer/internet-protocol/">internet-protocol</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cloudflare.com/learning/network-layer/what-is-a-computer-port/">what-is-a-computer-port</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cloudflare.com/learning/ddos/glossary/open-systems-interconnection-model-osi/">open-systems-interconnection-model</a></li>
<li><a target="_blank" rel="noopener" href="http://cseweb.ucsd.edu/classes/sp10/cse141/pdf/07/09_CSE141-Caching.pdf">CSE141-Caching</a></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://stardustman.github.io/2020/06/12/data-structure-btree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="stardustman">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="stardustman">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/06/12/data-structure-btree/" class="post-title-link" itemprop="url">data-structure-btree</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-06-12 14:11:02" itemprop="dateCreated datePublished" datetime="2020-06-12T14:11:02+08:00">2020-06-12</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-06-27 10:08:31" itemprop="dateModified" datetime="2020-06-27T10:08:31+08:00">2020-06-27</time>
      </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="Symbols count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Symbols count in article: </span>
      <span>785</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>1 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="B-tree-ç‰¹æ€§"><a href="#B-tree-ç‰¹æ€§" class="headerlink" title="B-tree ç‰¹æ€§"></a>B-tree ç‰¹æ€§</h3><ol>
<li>æ‰€æœ‰çš„ leaves éƒ½åœ¨åŒä¸€å±‚çº§ã€‚</li>
<li>B-Tree è¢« minimum degree t å®šä¹‰ã€‚t ä¾èµ–äº disk block sizeã€‚</li>
<li>é™¤äº† rootï¼Œå…¶ä½™èŠ‚ç‚¹å¿…é¡»è‡³å°‘æœ‰ t - 1 ä¸ª keyã€‚root èŠ‚ç‚¹è‡³å°‘æœ‰ 1 ä¸ª keyã€‚</li>
<li>æ‰€æœ‰çš„èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬ rootï¼‰æœ€å¤šæœ‰ 2t - 1 ä¸ª keyã€‚</li>
<li>æŸä¸€ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹çš„ä¸ªæ•° = è¿™ä¸ªèŠ‚ç‚¹çš„ key çš„ä¸ªæ•° + 1ã€‚</li>
<li>ä¸€ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰ key ä»å°åˆ°å¤§æ’åºã€‚ä¸¤ä¸ª key1 å’Œ key2 ä¹‹é—´çš„æ‰€æœ‰ child éƒ½åœ¨ key1 å’Œ key2 ä¹‹é—´ã€‚</li>
<li>B-Tree ä» root èŠ‚ç‚¹ grow(æ‰©å¼ ) å’Œ shrink(æ”¶ç¼©)ã€‚</li>
<li>searchã€insertã€delete æ—¶é—´å¤æ‚åº¦æ˜¯O(log n)ã€‚n æ˜¯ key çš„æ€»æ•°ã€‚</li>
</ol>
<h3 id="t-3-ä¸ºä¾‹æ¥ç†è§£-B-tree"><a href="#t-3-ä¸ºä¾‹æ¥ç†è§£-B-tree" class="headerlink" title="t=3 ä¸ºä¾‹æ¥ç†è§£ B-tree"></a>t=3 ä¸ºä¾‹æ¥ç†è§£ B-tree</h3><ol>
<li>æ¯ä¸€ä¸ªèŠ‚ç‚¹(root é™¤å¤–) è‡³å°‘æœ‰ t - 1 = 2 ä¸ª keyã€‚</li>
<li>æ¯ä¸€ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ 2t - 1 = 5 ä¸ª keyã€‚èŠ‚ç‚¹ key æ•°é‡ = 5ï¼Œç§°ä¸ºèŠ‚ç‚¹æ»¡äº†ã€‚<br>é—®é¢˜æ¥äº†ï¼ŒèŠ‚ç‚¹ key ä¸ªæ•°å¤§äº 5 äº†å’‹åŠï¼Ÿæ‹†åˆ†ã€‚ä»€ä¹ˆæ—¶å€™æ¥æ‹†åˆ†å‘¢ï¼Ÿåœ¨å‘ä¸‹éå†èŠ‚ç‚¹æ—¶å‘ç°æ»¡äº†ï¼Œç«‹å³è¿›è¡Œæ‹†åˆ†ã€‚</li>
</ol>
<h4 id="B-Tree-insert-operation"><a href="#B-Tree-insert-operation" class="headerlink" title="B-Tree insert operation"></a>B-Tree insert operation</h4><h5 id="æ‹†åˆ†å·²æ»¡èŠ‚ç‚¹"><a href="#æ‹†åˆ†å·²æ»¡èŠ‚ç‚¹" class="headerlink" title="æ‹†åˆ†å·²æ»¡èŠ‚ç‚¹"></a>æ‹†åˆ†å·²æ»¡èŠ‚ç‚¹</h5><img src="/2020/06/12/data-structure-btree/btree-full-root-split.svg" class="" title="btree-æ‹†åˆ†å·²æ»¡èŠ‚ç‚¹">

<ol>
<li>å¦‚ä¸Šå›¾ï¼ŒèŠ‚ç‚¹1 å·²ç»æ»¡äº†ï¼Œå¯¹æ­¤æ—¶çš„ root èŠ‚ç‚¹è¿›è¡Œæ‹†åˆ†ã€‚</li>
<li>åˆ›å»ºèŠ‚ç‚¹2ï¼Œs èŠ‚ç‚¹ï¼Œä½œä¸ºæ–°çš„ root èŠ‚ç‚¹ï¼ŒåŒæ—¶è®¾ç½® s.child[0] = rootã€‚</li>
<li>åˆ›å»ºèŠ‚ç‚¹2ï¼Œz èŠ‚ç‚¹ï¼Œå°†åŸæ¥ root èŠ‚ç‚¹ä¸€åŠçš„ keyï¼Œå¤åˆ¶åˆ° z èŠ‚ç‚¹ã€‚</li>
<li>å°† z èŠ‚ç‚¹è®¾ç½®ä¸º s èŠ‚ç‚¹çš„ childã€‚s.child[1] = zã€‚</li>
</ol>
<h5 id="æ‹†åˆ†å·²æ»¡èŠ‚ç‚¹-æœ‰å­èŠ‚ç‚¹"><a href="#æ‹†åˆ†å·²æ»¡èŠ‚ç‚¹-æœ‰å­èŠ‚ç‚¹" class="headerlink" title="æ‹†åˆ†å·²æ»¡èŠ‚ç‚¹(æœ‰å­èŠ‚ç‚¹)"></a>æ‹†åˆ†å·²æ»¡èŠ‚ç‚¹(æœ‰å­èŠ‚ç‚¹)</h5><img src="/2020/06/12/data-structure-btree/btree-full-root-split2.svg" class="" title="btree-æ‹†åˆ†å·²æ»¡èŠ‚ç‚¹2">

<p>B-Tree æ˜¯å‘ä¸Šæ‰©å¼ çš„(grow)ã€‚å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„ key éƒ½æ˜¯åœ¨ leaf èŠ‚ç‚¹æ’å…¥çš„ã€‚èŠ‚ç‚¹çš„ key å€¼çš„æ•°é‡ä¸€æ—¦ç­‰äº 2t - 1 = 5 æ—¶ï¼Œå°±ä¼šå¯¹è¯¥èŠ‚ç‚¹è¿›è¡Œæ‹†åˆ†ã€‚æ‰€ä»¥è¿™ä¹Ÿæ˜¯æ¯ä¸€ä¸ªèŠ‚ç‚¹(root é™¤å¤–)è‡³å°‘æœ‰ t-1 = 2 ä¸ª key çš„åŸå› ã€‚</p>
<h4 id="B-Tree-delete-operation"><a href="#B-Tree-delete-operation" class="headerlink" title="B-Tree delete operation"></a>B-Tree delete operation</h4><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ol>
<li><a target="_blank" rel="noopener" href="https://www.cs.usfca.edu/~galles/visualization/BTree.html">BTree-visualization</a></li>
<li><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/introduction-of-b-tree-2/">BTree introduction</a></li>
<li><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/insert-operation-in-b-tree/">BTree insertion</a></li>
<li><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/delete-operation-in-b-tree/">BTree deletion</a></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://stardustman.github.io/2020/06/08/asm-how-computer-startup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="stardustman">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="stardustman">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/06/08/asm-how-computer-startup/" class="post-title-link" itemprop="url">asm-how-computer-startup</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-06-08 08:09:12" itemprop="dateCreated datePublished" datetime="2020-06-08T08:09:12+08:00">2020-06-08</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-06-11 13:46:52" itemprop="dateModified" datetime="2020-06-11T13:46:52+08:00">2020-06-11</time>
      </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="Symbols count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Symbols count in article: </span>
      <span>2.8k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>3 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><code>x86</code> æ¶æ„è®¡ç®—æœºæ˜¯å¦‚ä½•å¯åŠ¨çš„ï¼Ÿ</p>
<h2 id="16-bit-Processors-and-Segmentation-1978"><a href="#16-bit-Processors-and-Segmentation-1978" class="headerlink" title="16-bit Processors and Segmentation (1978)"></a>16-bit Processors and Segmentation (1978)</h2><blockquote>
<p>The IA-32 architecture family was preceded by <code>16-bit processors</code>, the 8086 and 8088. The 8086 has <code>16-bit registers</code> and a <code>16-bit external data bus</code>, with <code>20-bit addressing giving a 1-MByte address space</code>. The 8088 is similar to the 8086 except it has an 8-bit external data bus.<br>The 8086/8088 introduced <code>segmentation</code> to the IA-32 architecture. With segmentation, a <code>16-bit segment register</code> contains a pointer to <code>a memory segment of up to 64 KBytes</code>. Using <code>four</code> segment registers at a time, 8086/8088 processors are able to address up to 256 KBytes <code>without</code> switching between segments. The 20-bit addresses that can be formed using a segment register and an additional 16-bit pointer provide a total address range of 1 MByte.</p>
</blockquote>
<p>8086 æ˜¯æ•´ä¸ª intel ç³»åˆ—å¤„ç†å™¨çš„è€ç¥–å®—ã€‚æ‰€æœ‰åç»­çš„ä¸€ç³»åˆ—å¤„ç†å™¨éƒ½å…¼å®¹ 8086ã€‚å”‰ï¼Œè¿™å°±æ˜¯è·¯å¾„ä¾èµ–å•Šã€‚è¿™æ˜¯ä¸€ä¸ª 16-bit çš„å¤„ç†å™¨ã€‚å¯„å­˜å™¨ä¹Ÿæ˜¯ 16-bit çš„ã€‚but å´èƒ½å¯»å€ 20-bit çš„åœ°å€ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯ 1M çš„å†…å­˜ã€‚æ€æ ·åœ¨ 16-bit çš„å¤„ç†å™¨ä¸Šå®ç°å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œå°† 1M çš„ç©ºé—´åˆ†æˆå¤šä¸ª 64K çš„ segmentã€‚é‚£æ€æ ·ç”¨ 16-bit çš„å¯„å­˜å™¨è¡¨ç¤º 20-bit çš„åœ°å€å‘¢ï¼Ÿä¹Ÿå¾ˆç®€å•ï¼Œç”¨ 2 ä¸ª 16-bit çš„å¯„å­˜å™¨ç»„åˆå¾—æ¥çš„(register1,register2)ã€‚é‚£æ€æ ·ç»„åˆçš„å‘¢ï¼Ÿ<code>address = register1 &lt;&lt; 4 + register2</code>ã€‚å°† register1 &lt;&lt; 4 å’Œ register2 ç”¨ä¸€ä¸ª 20-bit çš„åŠ æ³•å™¨å°±èƒ½å¾—åˆ°å†…å­˜åœ°å€ã€‚è¿™ç§æ–¹å¼å°±æ˜¯æ‰€è°“çš„ <code>real address mode</code>ã€‚ä¹Ÿå³æ˜¯æ‹¿åˆ°çš„æ˜¯çœŸæ­£çš„å†…å­˜åœ°å€ã€‚x86 æ¶æ„çš„è®¡ç®—æœºå¯åŠ¨æ—¶ä¼šå…ˆè¿›å…¥ real address modeã€‚</p>
<h2 id="è®¡ç®—æœºå¯åŠ¨å‰ç½®çŸ¥è¯†"><a href="#è®¡ç®—æœºå¯åŠ¨å‰ç½®çŸ¥è¯†" class="headerlink" title="è®¡ç®—æœºå¯åŠ¨å‰ç½®çŸ¥è¯†"></a>è®¡ç®—æœºå¯åŠ¨å‰ç½®çŸ¥è¯†</h2><ol>
<li>CPU å·¥ä½œæ–¹å¼æ˜¯: ä»<code>å†…å­˜</code>ä¸­å–æŒ‡ã€æ‰§è¡Œã€‚</li>
<li>å†…å­˜æ˜¯å­˜å‚¨æ•°æ®çš„åœ°æ–¹ï¼Œç»™å‡ºä¸€ä¸ªå†…å­˜åœ°å€ï¼Œå¯ä»¥å¾—åˆ°è¯¥å¤„çš„æ•°æ®ã€‚</li>
<li>CPU ä»å†…å­˜å“ªé‡Œå–æŒ‡ä»¤ï¼Œç”± <code>instruction pointer</code> è¿™ä¸ªå¯„å­˜å™¨çš„å€¼å†³å®šã€‚è¿™ä¸ªå€¼ä¸æ–­ +1ï¼Œæˆ–è€…è·³è½¬(jump) åˆ°æŸå¤„ã€‚real address mode ä¸‹ç”± CS:IP ç»„åˆå†³å®šã€‚</li>
</ol>
<h2 id="BIOS"><a href="#BIOS" class="headerlink" title="BIOS"></a>BIOS</h2><h3 id="BIOS-æ˜¯å•¥"><a href="#BIOS-æ˜¯å•¥" class="headerlink" title="BIOS æ˜¯å•¥"></a>BIOS æ˜¯å•¥</h3><p><code>BIOS</code> æ˜¯å•¥å‘¢ï¼Ÿä¸€ä¸ªè½¯ä»¶è€Œå·²ã€‚ä¸åƒæˆ‘ä»¬å¹³æ—¶åœ¨ PC ä¸Šä½¿ç”¨å¦‚ <code>QQ</code> ç­‰è½¯ä»¶æ˜¯å®‰è£…åœ¨ç¡¬ç›˜ä¸Šçš„ã€‚BIOS å®‰è£…åœ¨ ROM ä¸­ã€‚è¿™ä¸ªè½¯ä»¶å¹²å•¥çš„å‘¢ï¼Ÿå¸®åŠ©è®¡ç®—æœºå¯åŠ¨ï¼Œå¼€æœºæ—¶æ£€æµ‹æ•´ä¸ªæœºå™¨çš„ç¡¬ä»¶ã€‚è®¡ç®—æœºå¯åŠ¨éœ€è¦è¿è¡Œè½¯ä»¶ï¼Œè½¯ä»¶è¿è¡Œéœ€è¦è®¡ç®—æœºå…ˆå¯åŠ¨ã€‚å’³å’³ï¼Œæˆäº†å…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹äº†ï¼Œè¿™æ€ä¹ˆè¡Œï¼Ÿæ‰€ä»¥éœ€è¦ BIOS è¿™ä¸ªåœ¨ç¡¬ä»¶ä¸Šçš„è½¯ä»¶æ¥å¸®åŠ©ï¼Œç ´é™¤è¿™ç§ä¾èµ–ã€‚</p>
<h3 id="BIOS-å¤§å°"><a href="#BIOS-å¤§å°" class="headerlink" title="BIOS å¤§å°"></a>BIOS å¤§å°</h3><p>é€šè¿‡ <code>dmidecode</code> è¿™ä¸ªå‘½ä»¤æ¥æŸ¥çœ‹ã€‚ä¹Ÿå°±æ˜¯è¯»å– BIOS çš„ä¿¡æ¯ã€‚</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">root@aliyun:~<span class="comment"># dmidecode -t bios -q  # æ–¹æ³•ä¸€</span></span><br><span class="line">BIOS Information</span><br><span class="line">        Vendor: SeaBIOS</span><br><span class="line">        Version: 8c24b4c</span><br><span class="line">        Release Date: 04/01/2014</span><br><span class="line">        Address: 0xE8000</span><br><span class="line">        Runtime Size: 96 kB</span><br><span class="line">        ROM Size: 64 kB --- ROM Sizeï¼Œåœ¨æ­¤å¯ä»¥çœ‹åˆ°ï¼ŒBIOS å¤§å°ä¸º 64Kã€‚</span><br><span class="line">        Characteristics:</span><br><span class="line">                BIOS characteristics not supported</span><br><span class="line">                Targeted content distribution is supported</span><br><span class="line">        BIOS Revision: 0.0</span><br><span class="line"></span><br><span class="line">root@aliyun:~<span class="comment"># cd /sys/class/dmi/id/  # æ–¹æ³•äºŒ</span></span><br><span class="line">root@aliyun:id<span class="comment"># ls</span></span><br><span class="line">bios_date          chassis_serial   modalias        product_serial   sys_vendor</span><br><span class="line">bios_vendor        chassis_type     power           product_uuid     uevent</span><br><span class="line">bios_version       chassis_vendor   product_family  product_version</span><br><span class="line">chassis_asset_tag  chassis_version  product_name    subsystem</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="x86-æ¶æ„è®¡ç®—æœºå¯åŠ¨æµç¨‹"><a href="#x86-æ¶æ„è®¡ç®—æœºå¯åŠ¨æµç¨‹" class="headerlink" title="x86 æ¶æ„è®¡ç®—æœºå¯åŠ¨æµç¨‹"></a>x86 æ¶æ„è®¡ç®—æœºå¯åŠ¨æµç¨‹</h2><img src="/2020/06/08/asm-how-computer-startup/real-address-mode-how-computer-startup.svg" class="" title="real address mode 1M å†…å­˜å¸ƒå±€">

<ol>
<li><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå½“æŒ‰ä¸‹ <code>power on</code> ä¹‹åï¼Œæ­¤æ—¶çš„ CPU å¤„äº real address modeã€‚ç”±ç¡¬ä»¶è´Ÿè´£å°† <code>BIOS 64K</code> çš„å†…å®¹åŠ è½½åˆ° <code>0xF0000 åˆ° 0xFFFFF</code>(64K å†…å­˜)ã€‚å¹¶å°† <code>CS(code segment) ç½®ä¸º 0xF000</code>ï¼Œ<code>IP(instruction pointer) ç½®ä¸º 0xFFF0</code>ã€‚ç»„åˆèµ·æ¥çš„å†…å­˜åœ°å€ <code>PC</code> å°±æ˜¯ 0xFFFF0ã€‚</p>
</li>
<li><p>æ­¤æ—¶ CPU ä» <code>PC = 0xFFFF0</code> å¤„å¼€å§‹å–æŒ‡ã€æ‰§è¡Œã€‚é‚£ä¹ˆä» <code>0xFFFF0 åˆ° 0xFFFFF</code> åªæœ‰ 16Bytesã€‚ç©ºé—´å¤ªå°äº†ï¼Œèƒ½æ”¾å•¥å‘¢ï¼Ÿä½†æ˜¯å¯ä»¥è·³åˆ°å…¶ä»–åœ°æ–¹å»æ‰§è¡Œå•Šã€‚ä¸é”™ï¼Œè¿™é‡Œå­˜æ”¾çš„æœ‰ä¸€æ¡æŒ‡ä»¤æ˜¯ <code>jmp far f000:e05b</code>, ç»„åˆèµ·æ¥å°±æ˜¯ <code>0xfe05b</code>ã€‚æ³¨æ„è¿™ä¸ªåœ°å€å¯æ˜¯åœ¨ <code>0xF0000 åˆ° 0xFFFFF</code> èŒƒå›´ä¹‹å†…ï¼Œä¹Ÿå°±æ˜¯è¿™æ¡æŒ‡ä»¤è·³è½¬åˆ° <code>BIOS å†…éƒ¨çš„ä»£ç </code>å»æ‰§è¡Œã€‚ä» 0xFE05B åˆ° 0xFFFF0 å°†è¿‘ 8K å†…å­˜ï¼Œä»£ç ä¸å°‘ã€‚</p>
</li>
<li><p>æ­¤æ—¶ CPU ä» <code>PC = 0xfe05b</code> å¼€å§‹å–å€¼ã€æ‰§è¡Œã€‚å…·ä½“å¹²å•¥å‘¢ï¼Ÿå°±æ˜¯æ‰§è¡Œæ‰€è°“çš„å¼€æœºè‡ªæ£€ã€‚æ£€æŸ¥è®¡ç®—æœºç¡¬ä»¶ã€‚åŒæ—¶å»æ‰¾å¯åŠ¨æ‰‡åŒºï¼Œé‚£ä»€ä¹ˆæ‰æ˜¯å¯åŠ¨æ‰‡åŒºå‘¢ï¼Ÿè‹¥ 0 ç›˜ 0 é“ 1 æ‰‡åŒºæœ€åä¸¤ä¸ªå­—èŠ‚åˆ†åˆ«æ˜¯ 0x55,0xaaï¼Œé‚£å°±æ˜¯å¯åŠ¨åŒºã€‚å¾ˆåƒ java class æ–‡ä»¶ä¸­çš„é­”æ•°ï¼Œå°±æ˜¯æ ‡è®°ä¸€ä¸‹ã€‚åŒæ—¶å°†æ‰¾åˆ°çš„å¯åŠ¨æ‰‡åŒº(512Bytes) å¤åˆ¶åˆ°å†…å­˜ <code>0x7C00 åˆ° 0x7DFF</code>(512Bytes) å¤„ã€‚æœ€åä¼šå°† <code>CS ç½®ä¸º 0x0000ï¼Œ IP ç½®ä¸º 0x7C00</code>ï¼Œç»„åˆèµ·æ¥å°±æ˜¯ <code>0x7C00</code>ã€‚</p>
</li>
<li><p>æ­¤æ—¶ CPU ä» <code>PC = 0x7C00</code> å¼€å§‹å–å€¼ã€æ‰§è¡Œã€‚å…·ä½“å¹²å•¥å‘¢ï¼Ÿè¿™å°±æ˜¯å¼€å‘äººå‘˜å¯ä»¥å†³å®šçš„äº†ã€‚åœ¨å¯åŠ¨æ‰‡åŒºä¸Šå¯ä»¥æ˜¯åŠ è½½ OS Kernel çš„ä»£ç ï¼Œç¡¬ç›˜åˆ†åŒºï¼Œboot loader ç­‰ã€‚</p>
</li>
</ol>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p>1.<a target="_blank" rel="noopener" href="http://dewkumar.blogspot.com/2012/01/what-is-org-origin-directive-in.html">x86-ORG</a><br>2. <a target="_blank" rel="noopener" href="https://superuser.com/questions/806226/how-to-see-rom-size">how-to-see-rom-size</a><br>3. <a target="_blank" rel="noopener" href="http://smilejay.com/2013/02/bios-info-dmidecode/">bios-info-dmidecode</a><br>4. <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/System_Management_BIOS">system-management-bios</a><br>5. <a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2013/02/booting.html">è®¡ç®—æœºæ˜¯å¦‚ä½•å¯åŠ¨çš„ï¼Ÿ</a><br>6. <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Master_boot_record">å¤šç§ MBR ç»„ç»‡æ–¹å¼</a><br>7. <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/g6m_r28bvyyWIu1CAzxLdg">è®¡ç®—æœºæ˜¯æ€æ ·å¯åŠ¨çš„ï¼Ÿ</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://stardustman.github.io/2020/05/18/data-structure-heap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="stardustman">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="stardustman">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/05/18/data-structure-heap/" class="post-title-link" itemprop="url">data-structure-heap</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-05-18 15:24:05" itemprop="dateCreated datePublished" datetime="2020-05-18T15:24:05+08:00">2020-05-18</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-05-28 11:59:33" itemprop="dateModified" datetime="2020-05-28T11:59:33+08:00">2020-05-28</time>
      </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="Symbols count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Symbols count in article: </span>
      <span>4.2k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>4 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="çº¿æ€§-or-éçº¿æ€§"><a href="#çº¿æ€§-or-éçº¿æ€§" class="headerlink" title="çº¿æ€§ or éçº¿æ€§"></a>çº¿æ€§ or éçº¿æ€§</h3><p>æ•°æ®ç»“æ„å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼šçº¿æ€§ç»“æ„å’Œéçº¿æ€§ç»“æ„ã€‚çº¿æ€§ç»“æ„å…¸å‹çš„å°±æ˜¯æ•°ç»„å’Œé“¾è¡¨ï¼Œéçº¿æ€§å…¸å‹å°±æ˜¯æ ‘äº†ã€‚å¤æ‚çš„æ•°æ®ç»“æ„åŸºæœ¬ä¸Šéƒ½æ˜¯ä¸¤è€…çš„ç»„åˆã€‚</p>
<h3 id="binary-heap"><a href="#binary-heap" class="headerlink" title="binary heap"></a>binary heap</h3><p>äºŒå‰å †æœ¬è´¨ä¸Šå°±æ˜¯ä¸ªå®Œå…¨äºŒå‰æ ‘ã€‚ä½†æ˜¯å´ç”¨æ•°ç»„æ¥è¡¨ç¤ºã€‚ä¸ºå•¥å‘¢ï¼Ÿå› ä¸ºæ•°ç»„çš„ä¸‹æ ‡ä¹‹é—´æœ‰å…³ç³»ï¼Œå¯ä»¥è¡¨ç¤ºäºŒå‰æ ‘èŠ‚ç‚¹ä¹‹é—´çš„å±‚çº§å…³ç³»ã€‚å› ä¸ºæ˜¯ <code>å®Œå…¨äºŒå‰æ ‘</code>ï¼Œè¿™å°±ä¿è¯äº†ä¸€ç»´å±•å¼€å°±æ˜¯ä¸€ä¸ªä¸‹æ ‡è¿ç»­çš„æ•°ç»„ï¼Œæ•°ç»„é€šè¿‡ä¸‹æ ‡æ“ä½œèµ·æ¥ç›¸å½“ç®€æ´ã€‚å †é¡¶(root)ä¹Ÿå°±å°±æ˜¯æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´  <code>array[0]</code>ï¼Œæ˜¯æœ€å°å…ƒç´ ï¼Œå°±æ˜¯å°é¡¶å †ã€‚åä¹‹ï¼Œå¤§é¡¶å †ã€‚</p>
<h3 id="å †çš„è‡ªæˆ‘è°ƒæ•´"><a href="#å †çš„è‡ªæˆ‘è°ƒæ•´" class="headerlink" title="å †çš„è‡ªæˆ‘è°ƒæ•´"></a>å †çš„è‡ªæˆ‘è°ƒæ•´</h3><h4 id="æ’å…¥èŠ‚ç‚¹"><a href="#æ’å…¥èŠ‚ç‚¹" class="headerlink" title="æ’å…¥èŠ‚ç‚¹"></a>æ’å…¥èŠ‚ç‚¹</h4><p>æ–°èŠ‚ç‚¹æ”¾åœ¨æ•°ç»„æœ€åï¼Œç„¶åå¯¹è¯¥èŠ‚ç‚¹è¿›è¡Œä¸Šæµ®æ“ä½œã€‚</p>
<h4 id="åˆ é™¤èŠ‚ç‚¹"><a href="#åˆ é™¤èŠ‚ç‚¹" class="headerlink" title="åˆ é™¤èŠ‚ç‚¹"></a>åˆ é™¤èŠ‚ç‚¹</h4><p>åˆ é™¤å †é¡¶å…ƒç´ ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹æ”¾åœ¨å †é¡¶ï¼Œå¯¹æ­¤æ—¶çš„å †é¡¶è¿›è¡Œä¸‹æ²‰æ“ä½œã€‚</p>
<h4 id="æ„å»ºäºŒå‰å †"><a href="#æ„å»ºäºŒå‰å †" class="headerlink" title="æ„å»ºäºŒå‰å †"></a>æ„å»ºäºŒå‰å †</h4><p>æ‰€æœ‰çš„éå¶å­èŠ‚ç‚¹è¿›è¡Œä¸Šæµ®æ“ä½œã€‚</p>
<h4 id="äºŒå‰å †è‡ªæˆ‘è°ƒæ•´å›¾è§£"><a href="#äºŒå‰å †è‡ªæˆ‘è°ƒæ•´å›¾è§£" class="headerlink" title="äºŒå‰å †è‡ªæˆ‘è°ƒæ•´å›¾è§£"></a>äºŒå‰å †è‡ªæˆ‘è°ƒæ•´å›¾è§£</h4><img src="/2020/05/18/data-structure-heap/binary-heap.svg" class="" title="äºŒå‰å †çš„è‡ªæˆ‘è°ƒæ•´">

<h4 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HeapOperator</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è‡ªä¸‹è€Œä¸Šï¼Œä¸Šæµ®</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">upAdjust</span><span class="params">(<span class="keyword">int</span> [] array)</span></span>&#123;</span><br><span class="line">        <span class="comment">// æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">int</span> childIndex = array.length - <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">int</span> parentIndex = (childIndex - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> temp = array[childIndex];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (childIndex &gt; <span class="number">0</span> &amp;&amp; temp &lt; array[parentIndex])&#123;</span><br><span class="line">            array[childIndex] = array[parentIndex];</span><br><span class="line">            childIndex = parentIndex;</span><br><span class="line">            parentIndex = (childIndex - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        array[childIndex] = temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è‡ªä¸Šè€Œä¸‹ï¼Œä¸‹æ²‰</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">downAdjust</span><span class="params">(<span class="keyword">int</span> [] array, <span class="keyword">int</span> parentIndex, <span class="keyword">int</span> length)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> temp = array[parentIndex];</span><br><span class="line">        <span class="keyword">int</span> childIndex = <span class="number">2</span> * parentIndex + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (childIndex &lt; length)&#123;</span><br><span class="line">            <span class="comment">// æœ‰å³èŠ‚ç‚¹ï¼Œä¸”å³èŠ‚ç‚¹å°äºå·¦èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span> (childIndex + <span class="number">1</span> &lt; length &amp;&amp; array[childIndex] &gt; array[childIndex + <span class="number">1</span>])&#123;</span><br><span class="line">                childIndex++;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(temp &lt;= array[childIndex])&#123;</span><br><span class="line">               <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            array[parentIndex] = array[childIndex];</span><br><span class="line">            parentIndex = childIndex;</span><br><span class="line">            childIndex = <span class="number">2</span> * parentIndex + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        array[parentIndex] = temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">static</span>  <span class="keyword">void</span> <span class="title">buildHeap</span><span class="params">(<span class="keyword">int</span>[] array)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = (array.length - <span class="number">1</span>)/ <span class="number">2</span>; i &gt;= <span class="number">0</span> ; i--) &#123;</span><br><span class="line">            downAdjust(array, i, array.length - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapSort</span><span class="params">(<span class="keyword">int</span> [] array)</span></span>&#123;</span><br><span class="line">        <span class="comment">// å…ˆæ„å»ºä¸€ä¸ªå°é¡¶å †ï¼Œå¾—åˆ°ä¸€ä¸ªæœ€å°å€¼ã€‚</span></span><br><span class="line">        <span class="comment">// i ä¸º parentIndexï¼Œå·¦å³å­èŠ‚ç‚¹åˆ†åˆ«æ˜¯ 2 * i + 1, 2 * i + 2</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = (array.length - <span class="number">1</span> -<span class="number">2</span> ) / <span class="number">2</span>; i &gt;= <span class="number">0</span> ; i--) &#123;</span><br><span class="line">            downAdjust(array, i, array.length);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å †é¡¶å’Œç›®å‰å †çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹äº¤æ¢ï¼Œé‡æ–°æ„å»ºå †ã€‚</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = array.length - <span class="number">1</span>; i &gt; <span class="number">0</span> ; i--) &#123;</span><br><span class="line">            <span class="keyword">int</span> temp = array[i];</span><br><span class="line">            array[i] = array[<span class="number">0</span>];</span><br><span class="line">            array[<span class="number">0</span>] = temp;</span><br><span class="line">            downAdjust(array, <span class="number">0</span> , i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> [] array = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">0</span>&#125;;</span><br><span class="line">        upAdjust(array);</span><br><span class="line">        System.out.println(Arrays.toString(array));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span>[] array2 = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">7</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">6</span>&#125;;</span><br><span class="line">        buildHeap(array2);</span><br><span class="line">        System.out.println(Arrays.toString(array2));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span>[] array3 = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">7</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">6</span>,<span class="number">100</span>&#125;;</span><br><span class="line">        heapSort(array3);</span><br><span class="line">        System.out.println(Arrays.toString(array3));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ä¼˜å…ˆçº§é˜Ÿåˆ—"><a href="#ä¼˜å…ˆçº§é˜Ÿåˆ—" class="headerlink" title="ä¼˜å…ˆçº§é˜Ÿåˆ—"></a>ä¼˜å…ˆçº§é˜Ÿåˆ—</h3><p>ä¸è¦è¢«é˜Ÿåˆ—äºŒå­—å¸¦åï¼Œä¼˜å…ˆçº§é˜Ÿåˆ—çš„é‡ç‚¹åœ¨ä¼˜å…ˆçº§ä¸Šã€‚æ¯”å¦‚çº¿ç¨‹æœ‰ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§å¤§çš„å…ˆæ‰§è¡Œã€‚è¿ç®—ç¬¦ä¹Ÿæ˜¯æœ‰ä¼˜å…ˆçº§çš„ã€‚æ€æ ·æ¥å®ç°è¿™ç§ä¼˜å…ˆçº§å‘¢ï¼Ÿç”¨ <code>å †</code> å°±å¯ä»¥ã€‚è¿™é‡Œä½¿ç”¨å°é¡¶å †ï¼Œå †é¡¶å°±æ˜¯æœ€å°å€¼ï¼Œè¿™é‡Œå¸¦å…¥ä¼˜å…ˆçº§çš„æ¦‚å¿µï¼Œå€¼è¶Šå°ä¼˜å…ˆçº§è¶Šå¤§ã€‚é‚£ä¹ˆï¼Œä»å †é¡¶æ‹¿å‡ºæ¥çš„èŠ‚ç‚¹å°±æ˜¯ä¼˜å…ˆçº§æœ€å¤§çš„ï¼Œå‰©ä½™çš„èŠ‚ç‚¹é‡æ–°æ„é€ æˆå°é¡¶å †ï¼Œä¿è¯å †é¡¶æ˜¯æœ€å°å€¼ã€‚</p>
<h4 id="ä»£ç å®ç°-1"><a href="#ä»£ç å®ç°-1" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h4><p><code>å¤§é¡¶å †</code>å®ç°ä¼˜å…ˆé˜Ÿåˆ—ã€‚æ¯æ¬¡åªå–æœ€å¤§å€¼ï¼Œå–å‡ºä¸€ä¸ªå †é¡¶ï¼Œå‰©ä½™èŠ‚ç‚¹é‡æ–°æ„å»ºå¤§é¡¶å †ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PriorityQueue</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] array;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PriorityQueue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.array = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">32</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">enQueue</span><span class="params">(<span class="keyword">int</span> key)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(size &gt;= array.length)&#123;</span><br><span class="line">            resize();</span><br><span class="line">        &#125;</span><br><span class="line">        array[size++] = key;</span><br><span class="line">        upAdjust();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">deQueue</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> heapTop = array[<span class="number">0</span>];</span><br><span class="line">        array[<span class="number">0</span>] = array[--size];</span><br><span class="line">        downAdjust();</span><br><span class="line">        <span class="keyword">return</span> heapTop;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">resize</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> doubleSize = size &lt;&lt; <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">this</span>.array = Arrays.copyOf(<span class="keyword">this</span>.array,doubleSize);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è‡ªä¸‹è€Œä¸Š</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">upAdjust</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// æ‹¿åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">int</span> childIndex = <span class="keyword">this</span>.size - <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">int</span> parentIndex = (childIndex - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> temp = array[childIndex];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (childIndex &gt; <span class="number">0</span> &amp;&amp; temp &gt; array[parentIndex])&#123;</span><br><span class="line">            array[childIndex] = array[parentIndex];</span><br><span class="line">            childIndex = parentIndex;</span><br><span class="line">            parentIndex = (childIndex - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        array[childIndex] = temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è‡ªä¸Šè€Œä¸‹</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">downAdjust</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> parentIndex = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> temp = array[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> childIndex = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (childIndex &lt; size)&#123;</span><br><span class="line">            <span class="comment">// æœ‰å³èŠ‚ç‚¹ï¼Œä¸”å³èŠ‚ç‚¹å¤§äºå·¦èŠ‚ç‚¹ã€‚æ‹¿åˆ°ä¸¤ä¸ªå­èŠ‚ç‚¹çš„æœ€å¤§å€¼ã€‚</span></span><br><span class="line">            <span class="keyword">if</span> (childIndex + <span class="number">1</span> &lt; size &amp;&amp; array[childIndex] &lt; array[childIndex + <span class="number">1</span>])&#123;</span><br><span class="line">                childIndex++;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(temp &gt;= array[childIndex])&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            array[parentIndex] = array[childIndex];</span><br><span class="line">            parentIndex = childIndex;</span><br><span class="line">            childIndex = <span class="number">2</span> * parentIndex + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        array[parentIndex] = temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        PriorityQueue priorityQueue = <span class="keyword">new</span> PriorityQueue();</span><br><span class="line">        priorityQueue.enQueue(<span class="number">30</span>);</span><br><span class="line">        priorityQueue.enQueue(<span class="number">100</span>);</span><br><span class="line">        priorityQueue.enQueue(<span class="number">50</span>);</span><br><span class="line">        priorityQueue.enQueue(<span class="number">300</span>);</span><br><span class="line">        priorityQueue.enQueue(<span class="number">130</span>);</span><br><span class="line">        priorityQueue.enQueue(<span class="number">430</span>);</span><br><span class="line">        System.out.println(priorityQueue.deQueue());</span><br><span class="line">        System.out.println(priorityQueue.deQueue());</span><br><span class="line">        System.out.println(priorityQueue.deQueue());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="References"><a href="#References" class="headerlink" title="References"></a>References</h3><ol>
<li><a target="_blank" rel="noopener" href="https://visualgo.net/zh/heap">visual heap</a></li>
<li><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/cq2EhVtOTzTVpNpLDXfeJg">binary heap</a></li>
<li><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/8Bid1naBLtEjPoP-R4HkBg">heap sort</a></li>
<li><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/4hXBw7sZ-NKs_asOQxS7gA">priority queue</a></li>
<li><a target="_blank" rel="noopener" href="https://web.cecs.pdx.edu/~sheard/course/Cs163/Doc/FullvsComplete.html">full binary tree vs complete binary tree</a></li>
<li><a target="_blank" rel="noopener" href="https://web.cecs.pdx.edu/~sheard/course/Cs163/Doc/HeapReview.html">heap review</a></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://stardustman.github.io/2020/05/13/os-banker-s-algorithm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="stardustman">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="stardustman">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/05/13/os-banker-s-algorithm/" class="post-title-link" itemprop="url">os-banker's-algorithm</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2020-05-13 15:31:05 / Modified: 19:53:27" itemprop="dateCreated datePublished" datetime="2020-05-13T15:31:05+08:00">2020-05-13</time>
    </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="Symbols count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Symbols count in article: </span>
      <span>2.5k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>2 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Bankerâ€™s-Algorithm"><a href="#Bankerâ€™s-Algorithm" class="headerlink" title="Bankerâ€™s Algorithm"></a>Bankerâ€™s Algorithm</h2><h3 id="é“¶è¡Œå®¶ç®—æ³•æ˜¯ä»€ä¹ˆ"><a href="#é“¶è¡Œå®¶ç®—æ³•æ˜¯ä»€ä¹ˆ" class="headerlink" title="é“¶è¡Œå®¶ç®—æ³•æ˜¯ä»€ä¹ˆ"></a>é“¶è¡Œå®¶ç®—æ³•æ˜¯ä»€ä¹ˆ</h3><p><code>é“¶è¡Œå®¶</code>ä¸»è¦å°±æ˜¯é€šè¿‡æ”¾è´·æ¥èµšé’±çš„ã€‚é‚£æœ€é‡è¦çš„é—®é¢˜æ˜¯å•¥ï¼Ÿå½“ç„¶æ˜¯æŠŠé’±å€Ÿç»™è¿˜å¾—èµ·çš„äººå’¯ã€‚è¯•æƒ³ï¼Œé“¶è¡ŒæŠŠé’±éƒ½å€Ÿç»™äº†è¿˜ä¸èµ·çš„äººï¼Œé‚£é“¶è¡Œå°±å®Œè›‹äº†ã€‚å‡è®¾æœ‰ä¸€æ‰¹äººï¼ˆå¤šä¸ªè¿›ç¨‹ï¼‰æ¥å€Ÿé’±ï¼ˆå°†è¦ç”³è¯·èµ„æºï¼‰ï¼Œä½†æ˜¯é“¶è¡Œå‰©ä¸‹çš„é’±æ»¡è¶³ä¸äº†ä»»ä½•äººï¼Œé‚£å°±ç›´æ¥æ‹’ç»å€Ÿè´·ã€‚å½“ç„¶äº†ï¼Œæœ‰ä¸€éƒ¨åˆ†å·²ç»å€Ÿå‡ºçš„é’±å›æ”¶ä¹‹åï¼ˆå›æ”¶å·²ç»åˆ†é…çš„èµ„æºï¼‰ï¼Œåˆå¯ä»¥æ»¡è¶³ä¸€æ‰¹äººä¸­æŸäº›äººçš„å€Ÿè´·éœ€æ±‚ã€‚ä¾æ¬¡ç±»æ¨ï¼Œé“¶è¡Œå¯ä»¥åˆ¤å®šèƒ½ä¸èƒ½æŒ‰ç…§æŸä¸ªé¡ºåºæ¥ç»™è¿™æ‰¹äººæ”¾è´·ã€‚ç±»ä¼¼çš„æ€è·¯å»¶ä¼¸åˆ°è®¡ç®—æœºä¸–ç•Œï¼ŒåŒç†ã€‚æ“ä½œç³»ç»Ÿç»™å¤šä¸ªè¿›ç¨‹åˆ†é…èµ„æºï¼Œ<code>èƒ½ä¸èƒ½æ‰¾åˆ°ä¸€ä¸ªé¡ºåºç»™è¿™äº›è¿›ç¨‹åˆ†é…èµ„æºï¼Œå¹¶é€æ¸å›æ”¶èµ„æºï¼Ÿ</code>ä»è€Œæ»¡è¶³å¤šä¸ªè¿›ç¨‹çš„èµ„æºéœ€æ±‚ã€‚é‡‡ç”¨é“¶è¡Œå®¶æ”¾è´·å’Œæ”¶è´·çš„æ€è·¯ï¼ˆè¿™é‡Œæ’é™¤åˆ©æ¯ï¼Œæ”¾å¤šå°‘è´·ï¼Œæ”¶å¤šå°‘é’±ã€‚å‘µå‘µï¼Œå“ªæœ‰æ­¤ç§å¥½äº‹ï¼Ÿï¼‰æ¥åˆ†é…å’Œå›æ”¶ç³»ç»Ÿèµ„æºå°±æ˜¯æ‰€è°“çš„<code>é“¶è¡Œå®¶ç®—æ³•</code>ã€‚</p>
<h3 id="é“¶è¡Œå®¶ç®—æ³•è§£å†³ä»€ä¹ˆé—®é¢˜"><a href="#é“¶è¡Œå®¶ç®—æ³•è§£å†³ä»€ä¹ˆé—®é¢˜" class="headerlink" title="é“¶è¡Œå®¶ç®—æ³•è§£å†³ä»€ä¹ˆé—®é¢˜"></a>é“¶è¡Œå®¶ç®—æ³•è§£å†³ä»€ä¹ˆé—®é¢˜</h3><p><code>resource allocation and deadlock avoidance algorithm </code>ã€‚é“¶è¡Œå®¶ç®—æ³•ç”¨æ¥è¿›è¡Œèµ„æºåˆ†é…å’Œé¿å…æ­»é”ã€‚</p>
<h3 id="é“¶è¡Œå®¶ç®—æ³•æ€æ ·è§£å†³é—®é¢˜"><a href="#é“¶è¡Œå®¶ç®—æ³•æ€æ ·è§£å†³é—®é¢˜" class="headerlink" title="é“¶è¡Œå®¶ç®—æ³•æ€æ ·è§£å†³é—®é¢˜"></a>é“¶è¡Œå®¶ç®—æ³•æ€æ ·è§£å†³é—®é¢˜</h3><p>P0ã€P1ã€P2ã€P3ã€P4 5ä¸ªè¿›ç¨‹ï¼Œè§†ä¸ºéœ€è¦é’±çš„ 5 ä¸ªäººã€‚<br>Aã€Bã€C ä¸‰ç§ç³»ç»Ÿèµ„æºã€‚åˆ†åˆ«è§†ä¸ºæ˜¯é“¶è¡Œä¸‰ç§è´µé‡‘å±ï¼šé‡‘å—ã€é“¶å—ã€é“œå—ã€‚</p>
<h4 id="allocation-table-å·²æ”¾è´·è¡¨"><a href="#allocation-table-å·²æ”¾è´·è¡¨" class="headerlink" title="allocation table å·²æ”¾è´·è¡¨"></a>allocation table å·²æ”¾è´·è¡¨</h4><p>æ¯ä¸ªäººå·²ç»å€Ÿçš„é‡‘é“¶é“œä¸ªæ•°åˆ—è¡¨</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">A</th>
<th align="center">B</th>
<th align="center">C</th>
</tr>
</thead>
<tbody><tr>
<td align="center">P0</td>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">P1</td>
<td align="center">2</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">P2</td>
<td align="center">3</td>
<td align="center">0</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">P3</td>
<td align="center">2</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">P4</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">2</td>
</tr>
</tbody></table>
<h4 id="max-table-æœ€å¤§å€Ÿè´·è¡¨"><a href="#max-table-æœ€å¤§å€Ÿè´·è¡¨" class="headerlink" title="max table æœ€å¤§å€Ÿè´·è¡¨"></a>max table æœ€å¤§å€Ÿè´·è¡¨</h4><p>æ¯ä¸ªäººéœ€è¦é‡‘é“¶é“œæœ€å¤§ä¸ªæ•°åˆ—è¡¨</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">A</th>
<th align="center">B</th>
<th align="center">C</th>
</tr>
</thead>
<tbody><tr>
<td align="center">P0</td>
<td align="center">7</td>
<td align="center">5</td>
<td align="center">3</td>
</tr>
<tr>
<td align="center">P1</td>
<td align="center">3</td>
<td align="center">2</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">P2</td>
<td align="center">9</td>
<td align="center">0</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">P3</td>
<td align="center">2</td>
<td align="center">2</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">P4</td>
<td align="center">4</td>
<td align="center">3</td>
<td align="center">3</td>
</tr>
</tbody></table>
<h4 id="need-table-è¿˜éœ€æ”¾è´·è¡¨"><a href="#need-table-è¿˜éœ€æ”¾è´·è¡¨" class="headerlink" title="need table è¿˜éœ€æ”¾è´·è¡¨"></a>need table è¿˜éœ€æ”¾è´·è¡¨</h4><p>æ¯ä¸ªäººè¿˜éœ€è¦çš„é‡‘é“¶é“œä¸ªæ•°åˆ—è¡¨ã€‚ç”± max table - allocation table å¾—åˆ°ã€‚</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">A</th>
<th align="center">B</th>
<th align="center">C</th>
</tr>
</thead>
<tbody><tr>
<td align="center">P0</td>
<td align="center">7</td>
<td align="center">4</td>
<td align="center">3</td>
</tr>
<tr>
<td align="center">P1</td>
<td align="center">1</td>
<td align="center">2</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">P2</td>
<td align="center">6</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">P3</td>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">P4</td>
<td align="center">4</td>
<td align="center">3</td>
<td align="center">1</td>
</tr>
</tbody></table>
<h4 id="available-table-å‰©ä½™èµ„æºè¡¨"><a href="#available-table-å‰©ä½™èµ„æºè¡¨" class="headerlink" title="available table å‰©ä½™èµ„æºè¡¨"></a>available table å‰©ä½™èµ„æºè¡¨</h4><p>é“¶è¡Œè¿˜å‰©ä¸‹çš„é‡‘é“¶é“œä¸ªæ•°ã€‚</p>
<table>
<thead>
<tr>
<th align="center">A</th>
<th align="center">B</th>
<th align="center">C</th>
</tr>
</thead>
<tbody><tr>
<td align="center">3</td>
<td align="center">3</td>
<td align="center">2</td>
</tr>
</tbody></table>
<h4 id="å‰©ä½™ç³»ç»Ÿèµ„æºåˆ†é…é¡ºåºæ¨æ¼”"><a href="#å‰©ä½™ç³»ç»Ÿèµ„æºåˆ†é…é¡ºåºæ¨æ¼”" class="headerlink" title="å‰©ä½™ç³»ç»Ÿèµ„æºåˆ†é…é¡ºåºæ¨æ¼”"></a>å‰©ä½™ç³»ç»Ÿèµ„æºåˆ†é…é¡ºåºæ¨æ¼”</h4><ol>
<li>æ‹¿ç€ available table ï¼ˆå‰©ä½™èµ„æºè¡¨ï¼‰ï¼Œåˆ° need tableï¼ˆè¿˜éœ€æ”¾è´·è¡¨ï¼‰ æ¯”å¯¹ã€‚è‹¥ available table çš„ A B C æ»¡è¶³ need table çš„æŸä¸€è¡Œï¼ˆä¹Ÿå°±æ˜¯ available table æ¯ä¸€åˆ—éƒ½å¤§äºç­‰äº need table çš„æŸä¸€è¡Œçš„æ¯ä¸€åˆ—ï¼‰ã€‚è¯´æ˜å¯ä»¥åˆ†é…ç»™è¿™ä¸ªè¿›ç¨‹ï¼Œæ ‡è®°è¿™ä¸€è¡Œã€‚åŒæ—¶å›æ”¶è¿™ä¸€è¡Œå¯¹åº”çš„ allocation table ä¸­å·²ç»åˆ†é…çš„ A B Cã€‚æ›´æ–° available table çš„ A B Cã€‚ä»¥æ­¤ç±»æ¨ï¼Œç»§ç»­æ¯”å¯¹ need table ä¸­å…¶ä»–æœªæ ‡è®°çš„è¡Œã€‚è‹¥æœ€å need table æ‰€æœ‰è¡Œéƒ½æœ‰æ ‡è®°ï¼Œè¯´æ˜å­˜åœ¨ä¸€ä¸ªç»™ P0ã€P1ã€P2ã€P3ã€P4 è¿›ç¨‹åˆ†é…èµ„æºçš„é¡ºåºã€‚</li>
<li>æ‹¿ç€ available table å‰©ä½™èµ„æºè¡¨ï¼Œä¸æ»¡è¶³ need table ä¸­ä»»ä½•ä¸€è¡Œã€‚è¯´æ˜ä¸å­˜åœ¨ä¸€ä¸ªç»™ P0ã€P1ã€P2ã€P3ã€P4 è¿›ç¨‹åˆ†é…èµ„æºçš„é¡ºåºã€‚ç³»ç»Ÿæœ‰å¯èƒ½è¿›å…¥æ­»é”ã€‚</li>
</ol>
<h4 id="é“¶è¡Œå®¶ç®—æ³•å›¾è§£åˆ†æ"><a href="#é“¶è¡Œå®¶ç®—æ³•å›¾è§£åˆ†æ" class="headerlink" title="é“¶è¡Œå®¶ç®—æ³•å›¾è§£åˆ†æ"></a>é“¶è¡Œå®¶ç®—æ³•å›¾è§£åˆ†æ</h4><img src="/2020/05/13/os-banker-s-algorithm/banks-algorithm.svg" class="" title="é“¶è¡Œå®¶ç®—æ³•">

<p>å­˜åœ¨çš„ä¸€ä¸ªåºåˆ— P1 -&gt; P3 -&gt; P4 -&gt; P0 -&gt; P2</p>
<h3 id="æœ‰æ²¡æœ‰å…¶ä»–æ–¹æ³•è§£å†³æ­¤é—®é¢˜"><a href="#æœ‰æ²¡æœ‰å…¶ä»–æ–¹æ³•è§£å†³æ­¤é—®é¢˜" class="headerlink" title="æœ‰æ²¡æœ‰å…¶ä»–æ–¹æ³•è§£å†³æ­¤é—®é¢˜"></a>æœ‰æ²¡æœ‰å…¶ä»–æ–¹æ³•è§£å†³æ­¤é—®é¢˜</h3><h3 id="Bankerâ€™s-Algorithm-implemention"><a href="#Bankerâ€™s-Algorithm-implemention" class="headerlink" title="Bankerâ€™s Algorithm implemention"></a>Bankerâ€™s Algorithm implemention</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Banker&#x27;s Algorithm </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="comment">// P0, P1, P2, P3, P4 are the Process names here </span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">int</span> n, m, i, j, k; </span><br><span class="line">    n = <span class="number">5</span>; <span class="comment">// Number of processes </span></span><br><span class="line">    m = <span class="number">3</span>; <span class="comment">// Number of resources </span></span><br><span class="line">    <span class="keyword">int</span> alloc[<span class="number">5</span>][<span class="number">3</span>] = &#123; &#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span> &#125;, <span class="comment">// P0    // Allocation Matrix </span></span><br><span class="line">                        &#123; <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span> &#125;, <span class="comment">// P1 </span></span><br><span class="line">                        &#123; <span class="number">3</span>, <span class="number">0</span>, <span class="number">2</span> &#125;, <span class="comment">// P2 </span></span><br><span class="line">                        &#123; <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span> &#125;, <span class="comment">// P3 </span></span><br><span class="line">                        &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span> &#125; &#125;; <span class="comment">// P4 </span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">int</span> max[<span class="number">5</span>][<span class="number">3</span>] = &#123; &#123; <span class="number">7</span>, <span class="number">5</span>, <span class="number">3</span> &#125;, <span class="comment">// P0    // MAX Matrix </span></span><br><span class="line">                      &#123; <span class="number">3</span>, <span class="number">2</span>, <span class="number">2</span> &#125;, <span class="comment">// P1 </span></span><br><span class="line">                      &#123; <span class="number">9</span>, <span class="number">0</span>, <span class="number">2</span> &#125;, <span class="comment">// P2 </span></span><br><span class="line">                      &#123; <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span> &#125;, <span class="comment">// P3 </span></span><br><span class="line">                      &#123; <span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span> &#125; &#125;; <span class="comment">// P4 </span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">int</span> avail[<span class="number">3</span>] = &#123; <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span> &#125;; <span class="comment">// Available Resources </span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">int</span> finished[n], ans[n], index = <span class="number">0</span>; </span><br><span class="line">    <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; n; k++) &#123; </span><br><span class="line">        finished[k] = <span class="number">0</span>; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">int</span> need[n][m]; </span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123; </span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; m; j++) </span><br><span class="line">            <span class="comment">// è®¡ç®— need matrix</span></span><br><span class="line">            need[i][j] = max[i][j] - alloc[i][j]; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">int</span> y = <span class="number">0</span>; </span><br><span class="line">    <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; <span class="number">5</span>; k++) &#123; </span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123; </span><br><span class="line">            <span class="keyword">if</span> (finished[i] == <span class="number">0</span>) &#123; </span><br><span class="line">  </span><br><span class="line">                <span class="keyword">int</span> flag = <span class="number">0</span>; </span><br><span class="line">                <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; m; j++) &#123; </span><br><span class="line">                    <span class="keyword">if</span> (need[i][j] &gt; avail[j])&#123; </span><br><span class="line">                        flag = <span class="number">1</span>; </span><br><span class="line">                         <span class="keyword">break</span>; </span><br><span class="line">                    &#125; </span><br><span class="line">                &#125; </span><br><span class="line">  </span><br><span class="line">                <span class="keyword">if</span> (flag == <span class="number">0</span>) &#123; </span><br><span class="line">                    ans[index++] = i; </span><br><span class="line">                    <span class="keyword">for</span> (y = <span class="number">0</span>; y &lt; m; y++) </span><br><span class="line">                        avail[y] += alloc[i][y]; </span><br><span class="line">                    finished[i] = <span class="number">1</span>; </span><br><span class="line">                &#125; </span><br><span class="line">            &#125; </span><br><span class="line">        &#125; </span><br><span class="line">    &#125; </span><br><span class="line">  </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Following is the SAFE Sequence\n&quot;</span>); </span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++) </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot; P%d -&gt;&quot;</span>, ans[i]); </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot; P%d&quot;</span>, ans[n - <span class="number">1</span>]); </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> (<span class="number">0</span>); </span><br><span class="line">  </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ol>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%93%B6%E8%A1%8C%E5%AE%B6%E7%AE%97%E6%B3%95">é“¶è¡Œå®¶ç®—æ³•-wiki</a></li>
<li><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/bankers-algorithm-in-operating-system-2/">bankers-algorithm</a></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>


<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">stardustman</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Symbols count total">194k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">2:56</span>
  </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  







  






</body>
</html>
