<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>master-ip - stardustman</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="stardust"><meta name=description content="Motivation The Internet Protocol is designed for use in interconnected systems of packet-switched computer communication networks. Such a system has been called a &amp;ldquo;catenet&amp;rdquo;. The internet protocol provides for transmitting blocks of data called datagrams from sources to destinations, where sources and destinations are hosts identified by fixed length addresses. The internet protocol also provides for fragmentation and reassembly of long datagrams, if necessary, for transmission through &amp;ldquo;small packet&amp;rdquo; networks."><meta name=keywords content="Hugo,theme,even"><meta name=generator content="Hugo 0.119.0 with theme even"><link rel=canonical href=http://stardustman.github.io/2019/06/04/master-ip/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:title" content="master-ip"><meta property="og:description" content="Motivation The Internet Protocol is designed for use in interconnected systems of packet-switched computer communication networks. Such a system has been called a &ldquo;catenet&rdquo;. The internet protocol provides for transmitting blocks of data called datagrams from sources to destinations, where sources and destinations are hosts identified by fixed length addresses. The internet protocol also provides for fragmentation and reassembly of long datagrams, if necessary, for transmission through &ldquo;small packet&rdquo; networks."><meta property="og:type" content="article"><meta property="og:url" content="http://stardustman.github.io/2019/06/04/master-ip/"><meta property="article:section" content="post"><meta property="article:published_time" content="2019-06-04T15:32:28+08:00"><meta property="article:modified_time" content="2019-06-04T15:32:28+08:00"><meta itemprop=name content="master-ip"><meta itemprop=description content="Motivation The Internet Protocol is designed for use in interconnected systems of packet-switched computer communication networks. Such a system has been called a &ldquo;catenet&rdquo;. The internet protocol provides for transmitting blocks of data called datagrams from sources to destinations, where sources and destinations are hosts identified by fixed length addresses. The internet protocol also provides for fragmentation and reassembly of long datagrams, if necessary, for transmission through &ldquo;small packet&rdquo; networks."><meta itemprop=datePublished content="2019-06-04T15:32:28+08:00"><meta itemprop=dateModified content="2019-06-04T15:32:28+08:00"><meta itemprop=wordCount content="246"><meta itemprop=keywords content="network,"><meta name=twitter:card content="summary"><meta name=twitter:title content="master-ip"><meta name=twitter:description content="Motivation The Internet Protocol is designed for use in interconnected systems of packet-switched computer communication networks. Such a system has been called a &ldquo;catenet&rdquo;. The internet protocol provides for transmitting blocks of data called datagrams from sources to destinations, where sources and destinations are hosts identified by fixed length addresses. The internet protocol also provides for fragmentation and reassembly of long datagrams, if necessary, for transmission through &ldquo;small packet&rdquo; networks."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>keep writing</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a><a href=/2022/03/27/about/><li class=mobile-menu-item>About</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>keep writing</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/2022/03/27/about/>About</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>master-ip</h1><div class=post-meta><span class=post-time>2019-06-04</span>
<span class=more-meta>246 words</span>
<span class=more-meta>1 min read</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><a href=#motivation>Motivation</a></li><li><a href=#ip-header-format>IP header format</a></li><li><a href=#ip-datagram>Ip datagram</a></li><li><a href=#ipv4-example>IPV4 example</a><ul><li><a href=#version4-bits>version(4 bits)</a></li><li><a href=#header-length4-bits>Header Length(4 bits)</a></li><li><a href=#type-of-servicetos8-bits>Type Of Service(TOS)(8 bits)</a></li><li><a href=#total-length16-bits>Total Length(16 bits)</a></li><li><a href=#identification16-bits>Identification(16 bits)</a></li><li><a href=#flags3-bits>Flags(3 bits)</a></li><li><a href=#fragment-offset13-bits>Fragment Offset(13 bits)</a></li><li><a href=#time-to-livettl8-bits>Time to Live(TTL)(8 bits)</a></li><li><a href=#protocal8-bits>Protocal(8 bits)</a></li><li><a href=#header-checksum16-bits>Header Checksum(16 bits)</a></li><li><a href=#source-ip-address32-bits>Source IP Address(32 bits)</a></li><li><a href=#destination-ip-address32-bits>Destination IP Address(32 bits)</a></li></ul></li><li><a href=#references>References</a></li></ul></nav></div></div><div class=post-content><h1 id=motivation>Motivation</h1><p>The Internet Protocol is designed for use in interconnected systems of <strong>packet-switched</strong> computer communication networks. Such a system has been called a &ldquo;catenet&rdquo;. The internet protocol provides for transmitting blocks of data called datagrams from sources to destinations, where sources and destinations are hosts identified by <strong>fixed length addresses</strong>. The internet protocol also provides for <strong>fragmentation</strong> and <strong>reassembly</strong> of long datagrams, if necessary, for transmission through &ldquo;small packet&rdquo; networks.</p><blockquote><p>IPv4 is a connectionless protocol for use on packet-switched networks. It operates on a best effort delivery model, in that it does not guarantee delivery, nor does it assure proper sequencing or avoidance of duplicate delivery. These aspects, including data integrity, are addressed by an upper layer transport protocol, such as the Transmission Control Protocol (TCP).</p></blockquote><h1 id=ip-header-format>IP header format</h1><p><img src=https://github.com/stardustman/pictures/raw/main/img/ip-header-format.png alt=ip-header-format></p><h1 id=ip-datagram>Ip datagram</h1><p><img src=https://github.com/stardustman/pictures/raw/main/img/ip-format.png alt=ip-format></p><h1 id=ipv4-example>IPV4 example</h1><p><img src=https://github.com/stardustman/pictures/raw/main/img/ip-capture-wireshark.jpg alt=ip-capture-wireshark></p><p><img src=https://github.com/stardustman/pictures/raw/main/img/ip-capture-wireshark-example.png alt=ip-capture-wireshark-example></p><h2 id=version4-bits>version(4 bits)</h2><p>0x4(4)</p><h2 id=header-length4-bits>Header Length(4 bits)</h2><p>0x5(5)</p><h2 id=type-of-servicetos8-bits>Type Of Service(TOS)(8 bits)</h2><p>0x00(0)</p><h2 id=total-length16-bits>Total Length(16 bits)</h2><p>0x28(40)</p><h2 id=identification16-bits>Identification(16 bits)</h2><p>0xd279</p><h2 id=flags3-bits>Flags(3 bits)</h2><p>0x4 0100</p><ol><li>0 Reserved bit not set</li><li>1 Don&rsquo;t fragment set</li><li>0 More fragments not set</li></ol><h2 id=fragment-offset13-bits>Fragment Offset(13 bits)</h2><blockquote><p>This field indicates where in the datagram this fragment belongs.
The fragment offset is measured in units of 8 octets (64 bits). The
first fragment has offset zero.</p></blockquote><p>0x000 (0000 0000 0000)</p><h2 id=time-to-livettl8-bits>Time to Live(TTL)(8 bits)</h2><p>0x80 TTL:(128)</p><h2 id=protocal8-bits>Protocal(8 bits)</h2><p>0x06 TCP:(6)</p><h2 id=header-checksum16-bits>Header Checksum(16 bits)</h2><p>0x2e35</p><h2 id=source-ip-address32-bits>Source IP Address(32 bits)</h2><p>0x 0a:fe:c9:ad -> 10.254.201.173</p><h2 id=destination-ip-address32-bits>Destination IP Address(32 bits)</h2><p>0x ac:10:79:65 -> 172.16.121.101</p><h1 id=references>References</h1><ol><li><a href=http://user.it.uu.se/~rmg/teaching/IP.pdf>ip fragmentation and reassembly</a></li><li><a href=https://en.m.wikipedia.org/wiki/IPv4#Fragmentation_and_reassembly>fragmentation & reassembly</a></li><li><a href=https://mp.weixin.qq.com/s/ifZk5Ox9cnixq1ZxgwFBSw>ip 重组</a></li></ol></div><div class=post-copyright><p class=copyright-item><span class=item-title>Author</span>
<span class=item-content>stardust</span></p><p class=copyright-item><span class=item-title>LastMod</span>
<span class=item-content>2019-06-04</span></p><p class=copyright-item><span class=item-title>Markdown</span>
<span class=item-content><a class=link-to-markdown href=http://stardustman.github.io/2019/06/04/master-ip/index.md target=_blank>The Markdown version »</a></span></p></div><footer class=post-footer><div class=post-tags><a href=/tags/network/>network</a></div><nav class=post-nav><a class=prev href=/2019/06/17/tools-for-me/><i class="iconfont icon-left"></i>
<span class="prev-text nav-default">tools-for-me</span>
<span class="prev-text nav-mobile">Prev</span></a>
<a class=next href=/2019/05/31/linux-kernel-analysis-2/><span class="next-text nav-default">linux-kernel-analysis-2</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div><script src=https://utteranc.es/client.js repo=stardustman/comments issue-term=pathname theme=github-light crossorigin=anonymous async></script><noscript>Please enable JavaScript to view the <a href=https://github.com/utterance>comments powered by utterances.</a></noscript></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:aoyunyoung@gmail.com class="iconfont icon-email" title=email></a>
<a href=https://stackoverflow.com/users/9112817/cloud-young class="iconfont icon-stack-overflow" title=stack-overflow></a>
<a href=https://github.com/stardustman class="iconfont icon-github" title=github></a>
<a href=http://stardustman.github.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span>
<span class=copyright-year>&copy;
2019 -
2024<span class=heart><i class="iconfont icon-heart"></i></span><span>stardust</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src="/lib/highlight/highlight.pack.js?v=20171001"></script>
<script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js></script></body></html>